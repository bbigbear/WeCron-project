/*!
 * =====================================================
 * light7 - http://light7.org/
 *
 * =====================================================
 */
+function(a){"use strict";var b={autoInit:!1,showPageLoadingIndicator:!0,router:!0,swipePanel:"left",swipePanelOnlyClose:!1,pushAnimationDuration:400};a.smConfig=a.extend(b,a.config)}($),function(a){"use strict";var b={},c=navigator.userAgent,d=c.match(/(Android);?[\s\/]+([\d.]+)?/),e=c.match(/(iPad).*OS\s([\d_]+)/),f=c.match(/(iPod)(.*OS\s([\d_]+))?/),g=!e&&c.match(/(iPhone\sOS)\s([\d_]+)/);if(b.ios=b.android=b.iphone=b.ipad=b.androidChrome=!1,d&&(b.os="android",b.osVersion=d[2],b.android=!0,b.androidChrome=c.toLowerCase().indexOf("chrome")>=0),(e||g||f)&&(b.os="ios",b.ios=!0),g&&!f&&(b.osVersion=g[2].replace(/_/g,"."),b.iphone=!0),e&&(b.osVersion=e[2].replace(/_/g,"."),b.ipad=!0),f&&(b.osVersion=f[3]?f[3].replace(/_/g,"."):null,b.iphone=!0),b.ios&&b.osVersion&&c.indexOf("Version/")>=0&&"10"===b.osVersion.split(".")[0]&&(b.osVersion=c.toLowerCase().split("version/")[1].split(" ")[0]),b.webView=(g||e||f)&&c.match(/.*AppleWebKit(?!.*Safari)/i),b.os&&"ios"===b.os){var h=b.osVersion.split(".");b.minimalUi=!b.webView&&(f||g)&&(1*h[0]===7?1*h[1]>=1:1*h[0]>7)&&a('meta[name="viewport"]').length>0&&a('meta[name="viewport"]').attr("content").indexOf("minimal-ui")>=0}var i=a(window).width(),j=a(window).height();b.statusBar=!1,b.webView&&i*j===screen.width*screen.height?b.statusBar=!0:b.statusBar=!1;var k=[];if(b.pixelRatio=window.devicePixelRatio||1,k.push("pixel-ratio-"+Math.floor(b.pixelRatio)),b.pixelRatio>=2&&k.push("retina"),b.os&&(k.push(b.os,b.os+"-"+b.osVersion.split(".")[0],b.os+"-"+b.osVersion.replace(/\./g,"-")),"ios"===b.os))for(var l=parseInt(b.osVersion.split(".")[0],10),m=l-1;m>=6;m--)k.push("ios-gt-"+m);b.statusBar?k.push("with-statusbar-overlay"):a("html").removeClass("with-statusbar-overlay"),k.length>0&&a("html").addClass(k.join(" ")),a.device=b}($),+function(a){"use strict";a.compareVersion=function(a,b){var c=a.split("."),d=b.split(".");if(a===b)return 0;for(var e=0;e<c.length;e++){var f=parseInt(c[e]);if(!d[e])return 1;var g=parseInt(d[e]);if(g>f)return-1;if(f>g)return 1}return 1},a.getTouchPosition=function(a){return a=a.originalEvent||a,"touchstart"===a.type||"touchmove"===a.type||"touchend"===a.type?{x:a.targetTouches[0].pageX,y:a.targetTouches[0].pageY}:{x:a.pageX,y:a.pageY}}}($),+function(a){"use strict";function b(a,b){var c=this.os={},d=this.browser={},e=a.match(/Web[kK]it[\/]{0,1}([\d.]+)/),f=a.match(/(Android);?[\s\/]+([\d.]+)?/),g=!!a.match(/\(Macintosh\; Intel /),h=a.match(/(iPad).*OS\s([\d_]+)/),i=a.match(/(iPod)(.*OS\s([\d_]+))?/),j=!h&&a.match(/(iPhone\sOS)\s([\d_]+)/),k=a.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),l=/Win\d{2}|Windows/.test(b),m=a.match(/Windows Phone ([\d.]+)/),n=k&&a.match(/TouchPad/),o=a.match(/Kindle\/([\d.]+)/),p=a.match(/Silk\/([\d._]+)/),q=a.match(/(BlackBerry).*Version\/([\d.]+)/),r=a.match(/(BB10).*Version\/([\d.]+)/),s=a.match(/(RIM\sTablet\sOS)\s([\d.]+)/),t=a.match(/PlayBook/),u=a.match(/Chrome\/([\d.]+)/)||a.match(/CriOS\/([\d.]+)/),v=a.match(/Firefox\/([\d.]+)/),w=a.match(/\((?:Mobile|Tablet); rv:([\d.]+)\).*Firefox\/[\d.]+/),x=a.match(/MSIE\s([\d.]+)/)||a.match(/Trident\/[\d](?=[^\?]+).*rv:([0-9.].)/),y=!u&&a.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/),z=y||a.match(/Version\/([\d.]+)([^S](Safari)|[^M]*(Mobile)[^S]*(Safari))/);(d.webkit=!!e)&&(d.version=e[1]),f&&(c.android=!0,c.version=f[2]),j&&!i&&(c.ios=c.iphone=!0,c.version=j[2].replace(/_/g,".")),h&&(c.ios=c.ipad=!0,c.version=h[2].replace(/_/g,".")),i&&(c.ios=c.ipod=!0,c.version=i[3]?i[3].replace(/_/g,"."):null),m&&(c.wp=!0,c.version=m[1]),k&&(c.webos=!0,c.version=k[2]),n&&(c.touchpad=!0),q&&(c.blackberry=!0,c.version=q[2]),r&&(c.bb10=!0,c.version=r[2]),s&&(c.rimtabletos=!0,c.version=s[2]),t&&(d.playbook=!0),o&&(c.kindle=!0,c.version=o[1]),p&&(d.silk=!0,d.version=p[1]),!p&&c.android&&a.match(/Kindle Fire/)&&(d.silk=!0),u&&(d.chrome=!0,d.version=u[1]),v&&(d.firefox=!0,d.version=v[1]),w&&(c.firefoxos=!0,c.version=w[1]),x&&(d.ie=!0,d.version=x[1]),z&&(g||c.ios||l)&&(d.safari=!0,c.ios||(d.version=z[1])),y&&(d.webview=!0),c.tablet=!!(h||t||f&&!a.match(/Mobile/)||v&&a.match(/Tablet/)||x&&!a.match(/Phone/)&&a.match(/Touch/)),c.phone=!(c.tablet||c.ipod||!(f||j||k||q||r||u&&a.match(/Android/)||u&&a.match(/CriOS\/([\d.]+)/)||v&&a.match(/Mobile/)||x&&a.match(/Touch/)))}b.call(a,navigator.userAgent,navigator.platform),a.__detect=b}($),function(a){"use strict";["width","height"].forEach(function(b){var c=b.replace(/./,function(a){return a[0].toUpperCase()});a.fn["outer"+c]=function(a){var c=this;if(c){var d=c[b](),e={width:["left","right"],height:["top","bottom"]};return e[b].forEach(function(b){a&&(d+=parseInt(c.css("margin-"+b),10))}),d}return null}}),a.noop=function(){},a.support=function(){var a={touch:!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch)};return a}(),a.touchEvents={start:a.support.touch?"touchstart":"mousedown",move:a.support.touch?"touchmove":"mousemove",end:a.support.touch?"touchend":"mouseup"},a.getTranslate=function(a,b){var c,d,e,f;return"undefined"==typeof b&&(b="x"),e=window.getComputedStyle(a,null),window.WebKitCSSMatrix?f=new WebKitCSSMatrix("none"===e.webkitTransform?"":e.webkitTransform):(f=e.MozTransform||e.OTransform||e.MsTransform||e.msTransform||e.transform||e.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),c=f.toString().split(",")),"x"===b&&(d=window.WebKitCSSMatrix?f.m41:16===c.length?parseFloat(c[12]):parseFloat(c[4])),"y"===b&&(d=window.WebKitCSSMatrix?f.m42:16===c.length?parseFloat(c[13]):parseFloat(c[5])),d||0},a.requestAnimationFrame=function(a){return window.requestAnimationFrame?window.requestAnimationFrame(a):window.webkitRequestAnimationFrame?window.webkitRequestAnimationFrame(a):window.mozRequestAnimationFrame?window.mozRequestAnimationFrame(a):window.setTimeout(a,1e3/60)},a.cancelAnimationFrame=function(a){return window.cancelAnimationFrame?window.cancelAnimationFrame(a):window.webkitCancelAnimationFrame?window.webkitCancelAnimationFrame(a):window.mozCancelAnimationFrame?window.mozCancelAnimationFrame(a):window.clearTimeout(a)},a.fn.transitionEnd=function(a){function b(f){if(f.target===this)for(a.call(this,f),c=0;c<d.length;c++)e.off(d[c],b)}var c,d=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],e=this;if(a)for(c=0;c<d.length;c++)e.on(d[c],b);return this},a.fn.dataset=function(){var b=this[0];if(b){var c={};if(b.dataset)for(var d in b.dataset)c[d]=b.dataset[d];else for(var e=0;e<b.attributes.length;e++){var f=b.attributes[e];f.name.indexOf("data-")>=0&&(c[a.toCamelCase(f.name.split("data-")[1])]=f.value)}for(var g in c)"false"===c[g]?c[g]=!1:"true"===c[g]?c[g]=!0:parseFloat(c[g])===1*c[g]&&(c[g]=1*c[g]);return c}},a.fn.data=function(a,b){if("undefined"!=typeof b){for(var c=0;c<this.length;c++){var d=this[c];d.smElementDataStorage||(d.smElementDataStorage={}),d.smElementDataStorage[a]=b}return this}if(this[0]&&this[0].getAttribute){var e=this[0].getAttribute("data-"+a);return e?e:this[0].smElementDataStorage&&a in this[0].smElementDataStorage?this[0].smElementDataStorage[a]:void 0}},a.fn.animationEnd=function(a){function b(f){for(a(f),c=0;c<d.length;c++)e.off(d[c],b)}var c,d=["webkitAnimationEnd","OAnimationEnd","MSAnimationEnd","animationend"],e=this;if(a)for(c=0;c<d.length;c++)e.on(d[c],b);return this},a.fn.transition=function(a){"string"!=typeof a&&(a+="ms");for(var b=0;b<this.length;b++){var c=this[b].style;c.webkitTransitionDuration=c.MsTransitionDuration=c.msTransitionDuration=c.MozTransitionDuration=c.OTransitionDuration=c.transitionDuration=a}return this},a.fn.transform=function(a){for(var b=0;b<this.length;b++){var c=this[b].style;c.webkitTransform=c.MsTransform=c.msTransform=c.MozTransform=c.OTransform=c.transform=a}return this},a.fn.prevAll=function(b){var c=[],d=this[0];if(!d)return a([]);for(;d.previousElementSibling;){var e=d.previousElementSibling;b?a(e).is(b)&&c.push(e):c.push(e),d=e}return a(c)},a.fn.nextAll=function(b){var c=[],d=this[0];if(!d)return a([]);for(;d.nextElementSibling;){var e=d.nextElementSibling;b?a(e).is(b)&&c.push(e):c.push(e),d=e}return a(c)},a.fn.show=function(){function a(a){var c,d;return b[a]||(c=document.createElement(a),document.body.appendChild(c),d=getComputedStyle(c,"").getPropertyValue("display"),c.parentNode.removeChild(c),"none"===d&&(d="block"),b[a]=d),b[a]}var b={};return this.each(function(){"none"===this.style.display&&(this.style.display=""),"none"===getComputedStyle(this,"").getPropertyValue("display"),this.style.display=a(this.nodeName)})},a.fn.scrollHeight=function(){return this[0].scrollHeight}}($),function(a){"use strict";function b(a,c){function e(a,b){return function(){return a.apply(b,arguments)}}var f;if(c=c||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=c.touchBoundary||10,this.layer=a,this.tapDelay=c.tapDelay||200,this.tapTimeout=c.tapTimeout||700,!b.notNeeded(a)){for(var g=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],h=this,i=0,j=g.length;j>i;i++)h[g[i]]=e(h[g[i]],h);d&&(a.addEventListener("mouseover",this.onMouse,!0),a.addEventListener("mousedown",this.onMouse,!0),a.addEventListener("mouseup",this.onMouse,!0)),a.addEventListener("click",this.onClick,!0),a.addEventListener("touchstart",this.onTouchStart,!1),a.addEventListener("touchmove",this.onTouchMove,!1),a.addEventListener("touchend",this.onTouchEnd,!1),a.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(a.removeEventListener=function(b,c,d){var e=Node.prototype.removeEventListener;"click"===b?e.call(a,b,c.hijacked||c,d):e.call(a,b,c,d)},a.addEventListener=function(b,c,d){var e=Node.prototype.addEventListener;"click"===b?e.call(a,b,c.hijacked||(c.hijacked=function(a){a.propagationStopped||c(a)}),d):e.call(a,b,c,d)}),"function"==typeof a.onclick&&(f=a.onclick,a.addEventListener("click",function(a){f(a)},!1),a.onclick=null)}}var c=navigator.userAgent.indexOf("Windows Phone")>=0,d=navigator.userAgent.indexOf("Android")>0&&!c,e=/iP(ad|hone|od)/.test(navigator.userAgent)&&!c,f=e&&/OS 4_\d(_\d)?/.test(navigator.userAgent),g=e&&/OS [6-7]_\d/.test(navigator.userAgent),h=navigator.userAgent.indexOf("BB10")>0;b.prototype.needsClick=function(a){switch(a.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(a.disabled)return!0;break;case"input":if(e&&"file"===a.type||a.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(a.className)},b.prototype.needsFocus=function(a){switch(a.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!d;case"input":switch(a.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!a.disabled&&!a.readOnly;default:return/\bneedsfocus\b/.test(a.className)}},b.prototype.sendClick=function(a,b){var c,d;document.activeElement&&document.activeElement!==a&&document.activeElement.blur(),d=b.changedTouches[0],c=document.createEvent("MouseEvents"),c.initMouseEvent(this.determineEventType(a),!0,!0,window,1,d.screenX,d.screenY,d.clientX,d.clientY,!1,!1,!1,!1,0,null),c.forwardedTouchEvent=!0,a.dispatchEvent(c)},b.prototype.determineEventType=function(a){return d&&"select"===a.tagName.toLowerCase()?"mousedown":"click"},b.prototype.focus=function(a){var b;e&&a.setSelectionRange&&0!==a.type.indexOf("date")&&"time"!==a.type&&"month"!==a.type?(b=a.value.length,a.setSelectionRange(b,b)):a.focus()},b.prototype.updateScrollParent=function(a){var b,c;if(b=a.fastClickScrollParent,!b||!b.contains(a)){c=a;do{if(c.scrollHeight>c.offsetHeight){b=c,a.fastClickScrollParent=c;break}c=c.parentElement}while(c)}b&&(b.fastClickLastScrollTop=b.scrollTop)},b.prototype.getTargetElementFromEventTarget=function(a){return a.nodeType===Node.TEXT_NODE?a.parentNode:a},b.prototype.onTouchStart=function(a){var b,c,d;if(a.targetTouches.length>1)return!0;if(b=this.getTargetElementFromEventTarget(a.target),c=a.targetTouches[0],e){if(d=window.getSelection(),d.rangeCount&&!d.isCollapsed)return!0;if(!f){if(c.identifier&&c.identifier===this.lastTouchIdentifier)return a.preventDefault(),!1;this.lastTouchIdentifier=c.identifier,this.updateScrollParent(b)}}return this.trackingClick=!0,this.trackingClickStart=a.timeStamp,this.targetElement=b,this.touchStartX=c.pageX,this.touchStartY=c.pageY,a.timeStamp-this.lastClickTime<this.tapDelay&&a.preventDefault(),!0},b.prototype.touchHasMoved=function(a){var b=a.changedTouches[0],c=this.touchBoundary;return Math.abs(b.pageX-this.touchStartX)>c||Math.abs(b.pageY-this.touchStartY)>c?!0:!1},b.prototype.onTouchMove=function(a){return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(a.target)||this.touchHasMoved(a))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},b.prototype.findControl=function(a){return void 0!==a.control?a.control:a.htmlFor?document.getElementById(a.htmlFor):a.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},b.prototype.onTouchEnd=function(b){var c,h,i,j,k,l=this.targetElement;if(!this.trackingClick)return!0;if(b.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(b.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=b.timeStamp,h=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,g&&(k=b.changedTouches[0],l=document.elementFromPoint(k.pageX-window.pageXOffset,k.pageY-window.pageYOffset)||l,l.fastClickScrollParent=this.targetElement.fastClickScrollParent),i=l.tagName.toLowerCase(),"label"===i){if(c=this.findControl(l)){if(this.focus(l),d)return!1;l=c}}else{if(this.needsFocus(l))return b.timeStamp-h>100||e&&window.top!==window&&"input"===i?(this.targetElement=null,!1):(this.focus(l),this.sendClick(l,b),e&&"select"===i||(this.targetElement=null,b.preventDefault()),!1);for(var m=l;m&&"BODY"!==m.tagName.toUpperCase();)"LABEL"===m.tagName.toUpperCase()&&a(m).find("input").click(),m=m.parentNode}return e&&!f&&(j=l.fastClickScrollParent,j&&j.fastClickLastScrollTop!==j.scrollTop)?!0:(this.needsClick(l)||(b.preventDefault(),this.sendClick(l,b)),!1)},b.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},b.prototype.onMouse=function(a){return this.targetElement?a.forwardedTouchEvent?!0:a.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(a.stopImmediatePropagation?a.stopImmediatePropagation():a.propagationStopped=!0,a.stopPropagation(),a.preventDefault(),!1):!0:!0},b.prototype.onClick=function(a){var b;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===a.target.type&&0===a.detail?!0:(b=this.onMouse(a),b||(this.targetElement=null),b)},b.prototype.destroy=function(){var a=this.layer;d&&(a.removeEventListener("mouseover",this.onMouse,!0),a.removeEventListener("mousedown",this.onMouse,!0),a.removeEventListener("mouseup",this.onMouse,!0)),a.removeEventListener("click",this.onClick,!0),a.removeEventListener("touchstart",this.onTouchStart,!1),a.removeEventListener("touchmove",this.onTouchMove,!1),a.removeEventListener("touchend",this.onTouchEnd,!1),a.removeEventListener("touchcancel",this.onTouchCancel,!1)},b.notNeeded=function(a){var b,c,e,f;if("undefined"==typeof window.ontouchstart)return!0;if(c=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!d)return!0;if(b=document.querySelector("meta[name=viewport]")){if(-1!==b.content.indexOf("user-scalable=no"))return!0;if(c>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(h&&(e=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),e[1]>=10&&e[2]>=3&&(b=document.querySelector("meta[name=viewport]")))){if(-1!==b.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===a.style.msTouchAction||"manipulation"===a.style.touchAction?!0:(f=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],f>=27&&(b=document.querySelector("meta[name=viewport]"),b&&(-1!==b.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))?!0:"none"===a.style.touchAction||"manipulation"===a.style.touchAction?!0:!1)},b.attach=function(a,c){return new b(a,c)},a(function(){b.attach(document.body)})}($),+function(a){"use strict";a.Template7=a.t7=function(){function a(a){return"[object Array]"===Object.prototype.toString.apply(a)}function b(a){return"function"==typeof a}function c(a){var b,c,d,e=a.replace(/[{}#}]/g,"").split(" "),f=[];for(c=0;c<e.length;c++){var g=e[c];if(0===c)f.push(g);else if(0===g.indexOf('"'))if(2===g.match(/"/g).length)f.push(g);else{for(b=0,d=c+1;d<e.length;d++)if(g+=" "+e[d],e[d].indexOf('"')>=0){b=d,f.push(g);break}b&&(c=b)}else if(g.indexOf("=")>0){var h=g.split("="),i=h[0],j=h[1];if(2!==j.match(/"/g).length){for(b=0,d=c+1;d<e.length;d++)if(j+=" "+e[d],e[d].indexOf('"')>=0){b=d;break}b&&(c=b)}var k=[i,j.replace(/"/g,"")];f.push(k)}else f.push(g)}return f}function d(b){var d,e,f=[];if(!b)return[];var g=b.split(/({{[^{^}]*}})/);for(d=0;d<g.length;d++){var h=g[d];if(""!==h)if(h.indexOf("{{")<0)f.push({type:"plain",content:h});else{if(h.indexOf("{/")>=0)continue;if(h.indexOf("{#")<0&&h.indexOf(" ")<0&&h.indexOf("else")<0){f.push({type:"variable",contextName:h.replace(/[{}]/g,"")});continue}var i=c(h),j=i[0],k=[],l={};for(e=1;e<i.length;e++){var m=i[e];a(m)?l[m[0]]="false"===m[1]?!1:m[1]:k.push(m)}if(h.indexOf("{#")>=0){var n,o="",p="",q=0,r=!1,s=!1,t=0;for(e=d+1;e<g.length;e++)if(g[e].indexOf("{{#")>=0&&t++,g[e].indexOf("{{/")>=0&&t--,g[e].indexOf("{{#"+j)>=0)o+=g[e],s&&(p+=g[e]),q++;else if(g[e].indexOf("{{/"+j)>=0){if(!(q>0)){n=e,r=!0;break}q--,o+=g[e],s&&(p+=g[e])}else g[e].indexOf("else")>=0&&0===t?s=!0:(s||(o+=g[e]),s&&(p+=g[e]));r&&(n&&(d=n),f.push({type:"helper",helperName:j,contextName:k,content:o,inverseContent:p,hash:l}))}else h.indexOf(" ")>0&&f.push({type:"helper",helperName:j,contextName:k,hash:l})}}return f}var e=function(a){function b(a,b){return a.content?g(a.content,b):function(){return""}}function c(a,b){return a.inverseContent?g(a.inverseContent,b):function(){return""}}function e(a,b){var c,d,e=0;if(0===a.indexOf("../")){e=a.split("../").length-1;var f=b.split("_")[1]-e;b="ctx_"+(f>=1?f:1),d=a.split("../")[e].split(".")}else 0===a.indexOf("@global")?(b="$.Template7.global",d=a.split("@global.")[1].split(".")):0===a.indexOf("@root")?(b="ctx_1",d=a.split("@root.")[1].split(".")):d=a.split(".");c=b;for(var g=0;g<d.length;g++){var h=d[g];0===h.indexOf("@")?g>0?c+="[(data && data."+h.replace("@","")+")]":c="(data && data."+a.replace("@","")+")":isFinite(h)?c+="["+h+"]":0===h.indexOf("this")?c=h.replace("this",b):c+="."+h}return c}function f(a,b){for(var c=[],d=0;d<a.length;d++)0===a[d].indexOf('"')?c.push(a[d]):c.push(e(a[d],b));return c.join(", ")}function g(a,g){if(g=g||1,a=a||h.template,"string"!=typeof a)throw new Error("Template7: Template must be a string");var i=d(a);if(0===i.length)return function(){return""};var j="ctx_"+g,k="(function ("+j+", data) {\n";1===g&&(k+="function isArray(arr){return Object.prototype.toString.apply(arr) === '[object Array]';}\n",k+="function isFunction(func){return (typeof func === 'function');}\n",k+='function c(val, ctx) {if (typeof val !== "undefined") {if (isFunction(val)) {return val.call(ctx);} else return val;} else return "";}\n'),k+="var r = '';\n";var l;for(l=0;l<i.length;l++){var m=i[l];if("plain"!==m.type){var n,o;if("variable"===m.type&&(n=e(m.contextName,j),k+="r += c("+n+", "+j+");"),"helper"===m.type)if(m.helperName in h.helpers)o=f(m.contextName,j),k+="r += ($.Template7.helpers."+m.helperName+").call("+j+", "+(o&&o+", ")+"{hash:"+JSON.stringify(m.hash)+", data: data || {}, fn: "+b(m,g+1)+", inverse: "+c(m,g+1)+", root: ctx_1});";else{if(m.contextName.length>0)throw new Error('Template7: Missing helper: "'+m.helperName+'"');n=e(m.helperName,j),k+="if ("+n+") {",k+="if (isArray("+n+")) {",k+="r += ($.Template7.helpers.each).call("+j+", "+n+", {hash:"+JSON.stringify(m.hash)+", data: data || {}, fn: "+b(m,g+1)+", inverse: "+c(m,g+1)+", root: ctx_1});",k+="}else {",k+="r += ($.Template7.helpers.with).call("+j+", "+n+", {hash:"+JSON.stringify(m.hash)+", data: data || {}, fn: "+b(m,g+1)+", inverse: "+c(m,g+1)+", root: ctx_1});",k+="}}"}}else k+="r +='"+m.content.replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/'/g,"\\'")+"';"}return k+="\nreturn r;})",eval.call(window,k)}var h=this;h.template=a,h.compile=function(a){return h.compiled||(h.compiled=g(a)),h.compiled}};e.prototype={options:{},helpers:{"if":function(a,c){return b(a)&&(a=a.call(this)),a?c.fn(this,c.data):c.inverse(this,c.data)},unless:function(a,c){return b(a)&&(a=a.call(this)),a?c.inverse(this,c.data):c.fn(this,c.data)},each:function(c,d){var e="",f=0;if(b(c)&&(c=c.call(this)),a(c)){for(d.hash.reverse&&(c=c.reverse()),f=0;f<c.length;f++)e+=d.fn(c[f],{first:0===f,last:f===c.length-1,index:f});d.hash.reverse&&(c=c.reverse())}else for(var g in c)f++,e+=d.fn(c[g],{key:g});return f>0?e:d.inverse(this)},"with":function(a,c){return b(a)&&(a=a.call(this)),c.fn(a)},join:function(a,c){return b(a)&&(a=a.call(this)),a.join(c.hash.delimiter||c.hash.delimeter)},js:function(a,b){var c;return c=a.indexOf("return")>=0?"(function(){"+a+"})":"(function(){return ("+a+")})",eval.call(this,c).call(this)},js_compare:function(a,b){var c;c=a.indexOf("return")>=0?"(function(){"+a+"})":"(function(){return ("+a+")})";var d=eval.call(this,c).call(this);return d?b.fn(this,b.data):b.inverse(this,b.data)}}};var f=function(a,b){if(2===arguments.length){var c=new e(a),d=c.compile()(b);return c=null,d}return new e(a)};return f.registerHelper=function(a,b){e.prototype.helpers[a]=b},f.unregisterHelper=function(a){e.prototype.helpers[a]=void 0,delete e.prototype.helpers[a]},f.compile=function(a,b){var c=new e(a,b);return c.compile()},f.options=e.prototype.options,f.helpers=e.prototype.helpers,f}()}($),+function(a){"use strict";a.getCurrentPage=function(){return a(".page")[0]||document.body}}($),+function(a){"use strict";var b=function(b,c,d){var e=a(b),f=e.hasClass("page")?"page-current":"active";if(2===arguments.length&&"boolean"==typeof c&&(d=c),0===e.length)return!1;if(e.hasClass(f))return d&&e.trigger("show"),!1;var g=e.parent(".tabs");if(0===g.length)return!1;var h=g.children(".tab."+f).removeClass(f);if(e.addClass(f),e.trigger("show"),c?c=a(c):(c=a("string"==typeof b?'.tab-link[href="'+b+'"]':'.tab-link[href="#'+e.attr("id")+'"]'),(!c||c&&0===c.length)&&a("[data-tab]").each(function(){e.is(a(this).attr("data-tab"))&&(c=a(this))})),0!==c.length){var i;if(h&&h.length>0){var j=h.attr("id");j&&(i=a('.tab-link[href="#'+j+'"]')),(!i||i&&0===i.length)&&a("[data-tab]").each(function(){h.is(a(this).attr("data-tab"))&&(i=a(this))})}return c&&c.length>0&&c.addClass("active"),i&&i.length>0&&i.removeClass("active"),!0}},c=a.showTab;a.showTab=b,a.showTab.noConflict=function(){return a.showTab=c,this},a(document).on("click",".tab-link",function(c){c.preventDefault();var d=a(this);b(d.data("tab")||d.attr("href"),d)})}($),+function(a){"use strict";a(document).on("click",".tab-item",function(b){var c=a(b.currentTarget);c.hasClass("tab-link")||(c.parent().find(".active").removeClass("active"),c.addClass("active"))});var b=function(b,c){var d=a(".bar-tab .tab-item[href='#"+c+"']");d.parent().find(".active").removeClass("active"),d.addClass("active")};a(document).on("pageInit",b),a(document).on("pageReinit",b),a.showToolbar=function(b){a(document.body)[b?"removeClass":"addClass"]("tabbar-hidden")}}($),+function(a){"use strict";function b(b){var c=a(this),d=(c.attr("href"),c.dataset());if(c.hasClass("open-popover")){var f;f=d.popover?d.popover:".popover",a.popover(f,c)}c.hasClass("close-popover")&&a.closeModal(".popover.modal-in");var g;c.hasClass("open-popup")&&(g=d.popup?d.popup:".popup",a.popup(g)),c.hasClass("close-popup")&&(g=d.popup?d.popup:".popup.modal-in",a.closeModal(g)),c.hasClass("modal-overlay")&&(a(".modal.modal-in").length>0&&e.modalCloseByOutside&&a.closeModal(".modal.modal-in"),a(".actions-modal.modal-in").length>0&&e.actionsCloseByOutside&&a.closeModal(".actions-modal.modal-in"),a(".popover.modal-in").length>0&&a.closeModal(".popover.modal-in")),c.hasClass("popup-overlay")&&a(".popup.modal-in").length>0&&e.popupCloseByOutside&&a.closeModal(".popup.modal-in")}var c=document.createElement("div");a.modalStack=[];var d=a.Template7;a.modalStackClearQueue=function(){a.modalStack.length&&a.modalStack.shift()()},a.modal=function(b){b=b||{};var f="";if(e.modalTemplate)a._compiledTemplates.modal||(a._compiledTemplates.modal=d.compile(e.modalTemplate)),f=a._compiledTemplates.modal(b);else{var g="";if(b.buttons&&b.buttons.length>0)for(var h=0;h<b.buttons.length;h++)g+='<span class="modal-button'+(b.buttons[h].bold?" modal-button-bold":"")+'">'+b.buttons[h].text+"</span>";var i=b.title?'<div class="modal-title">'+b.title+"</div>":"",j=b.text?'<div class="modal-text">'+b.text+"</div>":"",k=b.afterText?b.afterText:"",l=b.buttons&&0!==b.buttons.length?"":"modal-no-buttons",m=b.verticalButtons?"modal-buttons-vertical":"";f='<div class="modal '+l+'"><div class="modal-inner">'+(i+j+k)+'</div><div class="modal-buttons '+m+'">'+g+"</div></div>"}c.innerHTML=f;var n=a(c).children();return a(e.modalContainer).append(n[0]),n.find(".modal-button").each(function(c,d){a(d).on("click",function(d){b.buttons[c].close!==!1&&a.closeModal(n),b.buttons[c].onClick&&b.buttons[c].onClick(n,d),b.onClick&&b.onClick(n,c)})}),a.openModal(n),n[0]},a.alert=function(b,c,d){return"function"==typeof c&&(d=arguments[1],c=void 0),a.modal({text:b||"",title:"undefined"==typeof c?e.modalTitle:c,buttons:[{text:e.modalButtonOk,bold:!0,onClick:d}]})},a.confirm=function(b,c,d,f){return"function"==typeof c&&(f=arguments[2],d=arguments[1],c=void 0),a.modal({text:b||"",title:"undefined"==typeof c?e.modalTitle:c,buttons:[{text:e.modalButtonCancel,onClick:f},{text:e.modalButtonOk,bold:!0,onClick:d}]})},a.prompt=function(b,c,d,f){return"function"==typeof c&&(f=arguments[2],d=arguments[1],c=void 0),a.modal({text:b||"",title:"undefined"==typeof c?e.modalTitle:c,afterText:'<input type="text" class="modal-text-input">',buttons:[{text:e.modalButtonCancel},{text:e.modalButtonOk,bold:!0}],onClick:function(b,c){0===c&&f&&f(a(b).find(".modal-text-input").val()),1===c&&d&&d(a(b).find(".modal-text-input").val())}})},a.modalLogin=function(b,c,d,f){return"function"==typeof c&&(f=arguments[2],d=arguments[1],c=void 0),a.modal({text:b||"",title:"undefined"==typeof c?e.modalTitle:c,afterText:'<input type="text" name="modal-username" placeholder="'+e.modalUsernamePlaceholder+'" class="modal-text-input modal-text-input-double"><input type="password" name="modal-password" placeholder="'+e.modalPasswordPlaceholder+'" class="modal-text-input modal-text-input-double">',buttons:[{text:e.modalButtonCancel},{text:e.modalButtonOk,bold:!0}],onClick:function(b,c){var e=a(b).find('.modal-text-input[name="modal-username"]').val(),g=a(b).find('.modal-text-input[name="modal-password"]').val();0===c&&f&&f(e,g),1===c&&d&&d(e,g)}})},a.modalPassword=function(b,c,d,f){return"function"==typeof c&&(f=arguments[2],d=arguments[1],c=void 0),a.modal({text:b||"",title:"undefined"==typeof c?e.modalTitle:c,afterText:'<input type="password" name="modal-password" placeholder="'+e.modalPasswordPlaceholder+'" class="modal-text-input">',buttons:[{text:e.modalButtonCancel},{text:e.modalButtonOk,bold:!0}],onClick:function(b,c){var e=a(b).find('.modal-text-input[name="modal-password"]').val();0===c&&f&&f(e),1===c&&d&&d(e)}})},a.showPreloader=function(b){return a.modal({title:b||e.modalPreloaderTitle,text:'<div class="preloader"></div>'})},a.hidePreloader=function(){a.closeModal(".modal.modal-in")},a.showIndicator=function(){a(e.modalContainer).append('<div class="preloader-indicator-overlay"></div><div class="preloader-indicator-modal"><span class="preloader preloader-white"></span></div>')},a.hideIndicator=function(){a(".preloader-indicator-overlay, .preloader-indicator-modal").remove()},a.actions=function(b,f){var g,h,i,j=!1;1===arguments.length?f=b:a.device.ios?a.device.ipad&&(j=!0):a(window).width()>=768&&(j=!0),f=f||[],f.length>0&&!a.isArray(f[0])&&(f=[f]);var k;if(j){var l=e.modalActionsToPopoverTemplate||'<div class="popover actions-popover"><div class="popover-inner">{{#each this}}<div class="list-block"><ul>{{#each this}}{{#if label}}<li class="actions-popover-label {{#if color}}color-{{color}}{{/if}} {{#if bold}}actions-popover-bold{{/if}}">{{text}}</li>{{else}}<li><a href="#" class="item-link list-button {{#if color}}color-{{color}}{{/if}} {{#if bg}}bg-{{bg}}{{/if}} {{#if bold}}actions-popover-bold{{/if}} {{#if disabled}}disabled{{/if}}">{{text}}</a></li>{{/if}}{{/each}}</ul></div>{{/each}}</div></div>';a._compiledTemplates.actionsToPopover||(a._compiledTemplates.actionsToPopover=d.compile(l));var m=a._compiledTemplates.actionsToPopover(f);g=a(a.popover(m,b,!0)),h=".list-block ul",i=".list-button"}else{if(e.modalActionsTemplate)a._compiledTemplates.actions||(a._compiledTemplates.actions=d.compile(e.modalActionsTemplate)),k=a._compiledTemplates.actions(f);else{for(var n="",o=0;o<f.length;o++)for(var p=0;p<f[o].length;p++){0===p&&(n+='<div class="actions-modal-group">');var q=f[o][p],r=q.label?"actions-modal-label":"actions-modal-button";q.bold&&(r+=" actions-modal-button-bold"),q.color&&(r+=" color-"+q.color),q.bg&&(r+=" bg-"+q.bg),q.disabled&&(r+=" disabled"),n+='<span class="'+r+'">'+q.text+"</span>",p===f[o].length-1&&(n+="</div>")}k='<div class="actions-modal">'+n+"</div>"}c.innerHTML=k,g=a(c).children(),a(e.modalContainer).append(g[0]),h=".actions-modal-group",i=".actions-modal-button"}var s=g.find(h);return s.each(function(b,c){var d=b;a(c).children().each(function(b,c){var e,h=b,k=f[d][h];!j&&a(c).is(i)&&(e=a(c)),j&&a(c).find(i).length>0&&(e=a(c).find(i)),e&&e.on("click",function(b){k.close!==!1&&a.closeModal(g),k.onClick&&k.onClick(g,b)})})}),j||a.openModal(g),g[0]},a.popover=function(b,c,d){function f(){b.css({left:"",top:""});var d,e,f=b.width(),g=b.height(),h=b.find(".popover-angle"),i=h.width()/2;h.removeClass("on-left on-right on-top on-bottom").css({left:"",top:""});var j=c.outerWidth(),k=c.outerHeight(),l=c.offset(),m=c.parents(".page");m.length>0&&(l.top=l.top-m[0].scrollTop);var n=a(window).height(),o=a(window).width(),p=0,q=0,r=0,s="top";g+i<l.top?p=l.top-g-i:g+i<n-l.top-k?(s="bottom",p=l.top+k+i):(s="middle",p=k/2+l.top-g/2,r=p,0>p?p=5:p+g>n&&(p=n-g-5),r-=p),"top"===s||"bottom"===s?(q=j/2+l.left-f/2,r=q,5>q&&(q=5),q+f>o&&(q=o-f-5),"top"===s&&h.addClass("on-bottom"),"bottom"===s&&h.addClass("on-top"),r-=q,d=f/2-i+r,d=Math.max(Math.min(d,f-2*i-6),6),h.css({left:d+"px"})):"middle"===s&&(q=l.left-f-i,h.addClass("on-right"),5>q&&(q=l.left+j+i,h.removeClass("on-right").addClass("on-left")),q+f>o&&(q=o-f-5,h.removeClass("on-right").addClass("on-left")),e=g/2-i+r,e=Math.max(Math.min(e,g-2*i-6),6),h.css({top:e+"px"})),b.css({top:p+"px",left:q+"px"})}if("undefined"==typeof d&&(d=!0),"string"==typeof b&&b.indexOf("<")>=0){var g=document.createElement("div");if(g.innerHTML=b.trim(),!(g.childNodes.length>0))return!1;b=g.childNodes[0],d&&b.classList.add("remove-on-close"),a(e.modalContainer).append(b)}return b=a(b),c=a(c),0===b.length||0===c.length?!1:(0===b.find(".popover-angle").length&&b.append('<div class="popover-angle"></div>'),b.show(),f(),a(window).on("resize",f),b.on("close",function(){a(window).off("resize",f)}),b.find("."+e.viewClass).length>0&&a.sizeNavbars(b.find("."+e.viewClass)[0]),a.openModal(b),b[0])},a.popup=function(b,c){if("undefined"==typeof c&&(c=!0),"string"==typeof b&&b.indexOf("<")>=0){var d=document.createElement("div");if(d.innerHTML=b.trim(),!(d.childNodes.length>0))return!1;b=d.childNodes[0],c&&b.classList.add("remove-on-close"),a(e.modalContainer).append(b)}return b=a(b),0===b.length?!1:(b.show(),b.find("."+e.viewClass).length>0&&a.sizeNavbars(b.find("."+e.viewClass)[0]),a.openModal(b),b[0])},a.pickerModal=function(b,c){if("undefined"==typeof c&&(c=!0),
"string"==typeof b&&b.indexOf("<")>=0){if(b=a(b),!(b.length>0))return!1;c&&b.addClass("remove-on-close"),a(e.modalContainer).append(b[0])}return b=a(b),0===b.length?!1:(b.show(),a.openModal(b),b[0])},a.loginScreen=function(b){return b||(b=".login-screen"),b=a(b),0===b.length?!1:(b.show(),b.find("."+e.viewClass).length>0&&a.sizeNavbars(b.find("."+e.viewClass)[0]),a.openModal(b),b[0])},a.toast=function(b){var c=a("<div class='modal toast'>"+b+"</div>").appendTo(document.body);a.openModal(c),setTimeout(function(){a.closeModal(c)},2e3)},a.openModal=function(b){e.closePrevious&&a.closeModal(),b=a(b);var c=b.hasClass("modal");if(a(".modal.modal-in:not(.modal-out)").length&&e.modalStack&&c)return void a.modalStack.push(function(){a.openModal(b)});var d=(b.hasClass("popover"),b.hasClass("popup")),f=b.hasClass("login-screen"),g=b.hasClass("picker-modal"),h=b.hasClass("toast");c&&(b.show(),b.css({marginTop:-Math.round(b.outerHeight()/2)+"px"})),h&&b.css({marginLeft:-Math.round(b.outerWidth()/2/1.185)+"px"});var i;f||g||h||(0!==a(".modal-overlay").length||d||a(e.modalContainer).append('<div class="modal-overlay"></div>'),0===a(".popup-overlay").length&&d&&a(e.modalContainer).append('<div class="popup-overlay"></div>'),i=a(d?".popup-overlay":".modal-overlay"));b[0].clientLeft;return b.trigger("open"),g&&a(e.modalContainer).addClass("with-picker-modal"),f||g||h||i.addClass("modal-overlay-visible"),b.removeClass("modal-out").addClass("modal-in").transitionEnd(function(a){b.hasClass("modal-out")?b.trigger("closed"):b.trigger("opened")}),!0},a.closeModal=function(b){if(b=a(b||".modal-in"),"undefined"==typeof b||0!==b.length){var c=b.hasClass("modal"),d=b.hasClass("popover"),f=b.hasClass("popup"),g=b.hasClass("login-screen"),h=b.hasClass("picker-modal"),i=b.hasClass("remove-on-close"),j=a(f?".popup-overlay":".modal-overlay");return f?b.length===a(".popup.modal-in").length&&j.removeClass("modal-overlay-visible"):h||j.removeClass("modal-overlay-visible"),b.trigger("close"),h&&(a(e.modalContainer).removeClass("with-picker-modal"),a(e.modalContainer).addClass("picker-modal-closing")),d?(b.removeClass("modal-in modal-out").trigger("closed").hide(),i&&b.remove()):(b.removeClass("modal-in").addClass("modal-out").transitionEnd(function(c){b.hasClass("modal-out")?b.trigger("closed"):b.trigger("opened"),h&&a(e.modalContainer).removeClass("picker-modal-closing"),f||g||h?(b.removeClass("modal-out").hide(),i&&b.length>0&&b.remove()):b.remove()}),c&&e.modalStack&&a.modalStackClearQueue()),!0}};var e=a.modal.prototype.defaults={modalButtonOk:"OK",modalButtonCancel:"Cancel",modalPreloaderTitle:"Loading...",modalContainer:document.body,closePrevious:!0};a(function(){a(document).on("click"," .modal-overlay, .popup-overlay, .close-popup, .open-popup, .open-popover, .close-popover, .close-picker",b),e.modalContainer=e.modalContainer||document.body})}($),+function(a){"use strict";var b,c=!1,d=function(d){function e(){var b=!1;return k.params.convertToPopover||k.params.onlyInPopover?(!k.inline&&k.params.input&&(k.params.onlyInPopover?b=!0:a.device.ios?b=a.device.ipad?!0:!1:a(window).width()>=768&&(b=!0)),b):b}function f(){return k.opened&&k.container&&k.container.length>0&&k.container.parents(".popover").length>0?!0:!1}function g(a){a=new Date(a);var b=a.getFullYear(),c=a.getMonth(),d=c+1,e=a.getDate(),f=a.getDay();return k.params.dateFormat.replace(/yyyy/g,b).replace(/yy/g,(b+"").substring(2)).replace(/mm/g,10>d?"0"+d:d).replace(/m/g,d).replace(/MM/g,k.params.monthNames[c]).replace(/M/g,k.params.monthNamesShort[c]).replace(/dd/g,10>e?"0"+e:e).replace(/d/g,e).replace(/DD/g,k.params.dayNames[f]).replace(/D/g,k.params.dayNamesShort[f])}function h(a){if(a.preventDefault(),!k.opened&&(k.open(),k.params.scrollToInput&&!e())){var b=k.input.parents(".page-content");if(0===b.length)return;var c,d=parseInt(b.css("padding-top"),10),f=parseInt(b.css("padding-bottom"),10),g=b[0].offsetHeight-d-k.container.height(),h=b[0].scrollHeight-d-k.container.height(),i=k.input.offset().top-d+k.input[0].offsetHeight;if(i>g){var j=b.scrollTop()+i-g;j+g>h&&(c=j+g-h+f,g===h&&(c=k.container.height()),b.css({"padding-bottom":c+"px"})),b.scrollTop(j,300)}}}function i(b){f()||(k.input&&k.input.length>0?b.target!==k.input[0]&&0===a(b.target).parents(".picker-modal").length&&k.close():0===a(b.target).parents(".picker-modal").length&&k.close())}function j(){k.opened=!1,k.input&&k.input.length>0&&k.input.parents(".page-content").css({"padding-bottom":""}),k.params.onClose&&k.params.onClose(k),k.destroyCalendarEvents()}var k=this;d=d||{};for(var l in b)"undefined"==typeof d[l]&&(d[l]=b[l]);k.params=d,k.initialized=!1,k.inline=k.params.container?!0:!1,k.isH="horizontal"===k.params.direction;var m=k.isH&&c?-1:1;return k.animating=!1,k.addValue=function(a){if(k.params.multiple){k.value||(k.value=[]);for(var b,c=0;c<k.value.length;c++)new Date(a).getTime()===new Date(k.value[c]).getTime()&&(b=c);"undefined"==typeof b?k.value.push(a):k.value.splice(b,1),k.updateValue()}else k.value=[a],k.updateValue()},k.setValue=function(a){k.value=a,k.updateValue()},k.updateValue=function(){k.wrapper.find(".picker-calendar-day-selected").removeClass("picker-calendar-day-selected");var b,c;for(b=0;b<k.value.length;b++){var d=new Date(k.value[b]);k.wrapper.find('.picker-calendar-day[data-date="'+d.getFullYear()+"-"+d.getMonth()+"-"+d.getDate()+'"]').addClass("picker-calendar-day-selected")}if(k.params.onChange&&k.params.onChange(k,k.value,k.value.map(g)),k.input&&k.input.length>0){if(k.params.formatValue)c=k.params.formatValue(k,k.value);else{for(c=[],b=0;b<k.value.length;b++)c.push(g(k.value[b]));c=c.join(", ")}a(k.input).val(c),a(k.input).trigger("change")}},k.initCalendarEvents=function(){function b(b){if(!h&&!g){g=!0;var c=a.getTouchPosition(b);i=n=c.x,j=n=c.y,o=(new Date).getTime(),u=0,x=!0,w=void 0,q=r=k.monthsTranslate}}function d(b){if(g){var c=a.getTouchPosition(b);if(l=c.x,n=c.y,"undefined"==typeof w&&(w=!!(w||Math.abs(n-j)>Math.abs(l-i))),k.isH&&w)return void(g=!1);if(b.preventDefault(),k.animating)return void(g=!1);x=!1,h||(h=!0,s=k.wrapper[0].offsetWidth,t=k.wrapper[0].offsetHeight,k.wrapper.transition(0)),b.preventDefault(),v=k.isH?l-i:n-j,u=v/(k.isH?s:t),r=100*(k.monthsTranslate*m+u),k.wrapper.transform("translate3d("+(k.isH?r:0)+"%, "+(k.isH?0:r)+"%, 0)")}}function e(a){return g&&h?(g=h=!1,p=(new Date).getTime(),300>p-o?Math.abs(v)<10?k.resetMonth():v>=10?c?k.nextMonth():k.prevMonth():c?k.prevMonth():k.nextMonth():-.5>=u?c?k.prevMonth():k.nextMonth():u>=.5?c?k.nextMonth():k.prevMonth():k.resetMonth(),void setTimeout(function(){x=!0},100)):void(g=h=!1)}function f(b){if(x){var c=a(b.target).parents(".picker-calendar-day");if(0===c.length&&a(b.target).hasClass("picker-calendar-day")&&(c=a(b.target)),0!==c.length&&(!c.hasClass("picker-calendar-day-selected")||k.params.multiple)&&!c.hasClass("picker-calendar-day-disabled")){c.hasClass("picker-calendar-day-next")&&k.nextMonth(),c.hasClass("picker-calendar-day-prev")&&k.prevMonth();var d=c.attr("data-year"),e=c.attr("data-month"),f=c.attr("data-day");k.params.onDayClick&&k.params.onDayClick(k,c[0],d,e,f),k.addValue(new Date(d,e,f).getTime()),k.params.closeOnSelect&&k.close()}}}var g,h,i,j,l,n,o,p,q,r,s,t,u,v,w,x=!0;k.container.find(".picker-calendar-prev-month").on("click",k.prevMonth),k.container.find(".picker-calendar-next-month").on("click",k.nextMonth),k.container.find(".picker-calendar-prev-year").on("click",k.prevYear),k.container.find(".picker-calendar-next-year").on("click",k.nextYear),k.wrapper.on("click",f),k.params.touchMove&&(k.wrapper.on(a.touchEvents.start,b),k.wrapper.on(a.touchEvents.move,d),k.wrapper.on(a.touchEvents.end,e)),k.container[0].f7DestroyCalendarEvents=function(){k.container.find(".picker-calendar-prev-month").off("click",k.prevMonth),k.container.find(".picker-calendar-next-month").off("click",k.nextMonth),k.container.find(".picker-calendar-prev-year").off("click",k.prevYear),k.container.find(".picker-calendar-next-year").off("click",k.nextYear),k.wrapper.off("click",f),k.params.touchMove&&(k.wrapper.off(a.touchEvents.start,b),k.wrapper.off(a.touchEvents.move,d),k.wrapper.off(a.touchEvents.end,e))}},k.destroyCalendarEvents=function(a){"f7DestroyCalendarEvents"in k.container[0]&&k.container[0].f7DestroyCalendarEvents()},k.daysInMonth=function(a){var b=new Date(a);return new Date(b.getFullYear(),b.getMonth()+1,0).getDate()},k.monthHTML=function(a,b){a=new Date(a);var c=a.getFullYear(),d=a.getMonth();a.getDate();"next"===b&&(a=11===d?new Date(c+1,0):new Date(c,d+1,1)),"prev"===b&&(a=0===d?new Date(c-1,11):new Date(c,d-1,1)),("next"===b||"prev"===b)&&(d=a.getMonth(),c=a.getFullYear());var e=k.daysInMonth(new Date(a.getFullYear(),a.getMonth()).getTime()-864e6),f=k.daysInMonth(a),g=new Date(a.getFullYear(),a.getMonth()).getDay();0===g&&(g=7);var h,i,j,l=[],m=6,n=7,o="",p=0+(k.params.firstDay-1),q=(new Date).setHours(0,0,0,0),r=k.params.minDate?new Date(k.params.minDate).getTime():null,s=k.params.maxDate?new Date(k.params.maxDate).getTime():null;if(k.value&&k.value.length)for(i=0;i<k.value.length;i++)l.push(new Date(k.value[i]).setHours(0,0,0,0));for(i=1;m>=i;i++){var t="";for(j=1;n>=j;j++){var u=j;p++;var v=p-g,w="";0>v?(v=e+v+1,w+=" picker-calendar-day-prev",h=new Date(0>d-1?c-1:c,0>d-1?11:d-1,v).getTime()):(v+=1,v>f?(v-=f,w+=" picker-calendar-day-next",h=new Date(d+1>11?c+1:c,d+1>11?0:d+1,v).getTime()):h=new Date(c,d,v).getTime()),h===q&&(w+=" picker-calendar-day-today"),l.indexOf(h)>=0&&(w+=" picker-calendar-day-selected"),k.params.weekendDays.indexOf(u-1)>=0&&(w+=" picker-calendar-day-weekend"),(r&&r>h||s&&h>s)&&(w+=" picker-calendar-day-disabled"),h=new Date(h);var x=h.getFullYear(),y=h.getMonth();t+='<div data-year="'+x+'" data-month="'+y+'" data-day="'+v+'" class="picker-calendar-day'+w+'" data-date="'+(x+"-"+y+"-"+v)+'"><span>'+v+"</span></div>"}o+='<div class="picker-calendar-row">'+t+"</div>"}return o='<div class="picker-calendar-month" data-year="'+c+'" data-month="'+d+'">'+o+"</div>"},k.animating=!1,k.updateCurrentMonthYear=function(a){"undefined"==typeof a?(k.currentMonth=parseInt(k.months.eq(1).attr("data-month"),10),k.currentYear=parseInt(k.months.eq(1).attr("data-year"),10)):(k.currentMonth=parseInt(k.months.eq("next"===a?k.months.length-1:0).attr("data-month"),10),k.currentYear=parseInt(k.months.eq("next"===a?k.months.length-1:0).attr("data-year"),10)),k.container.find(".current-month-value").text(k.params.monthNames[k.currentMonth]),k.container.find(".current-year-value").text(k.currentYear)},k.onMonthChangeStart=function(a){k.updateCurrentMonthYear(a),k.months.removeClass("picker-calendar-month-current picker-calendar-month-prev picker-calendar-month-next");var b="next"===a?k.months.length-1:0;k.months.eq(b).addClass("picker-calendar-month-current"),k.months.eq("next"===a?b-1:b+1).addClass("next"===a?"picker-calendar-month-prev":"picker-calendar-month-next"),k.params.onMonthYearChangeStart&&k.params.onMonthYearChangeStart(k,k.currentYear,k.currentMonth)},k.onMonthChangeEnd=function(a,b){k.animating=!1;var c,d,e;k.wrapper.find(".picker-calendar-month:not(.picker-calendar-month-prev):not(.picker-calendar-month-current):not(.picker-calendar-month-next)").remove(),"undefined"==typeof a&&(a="next",b=!0),b?(k.wrapper.find(".picker-calendar-month-next, .picker-calendar-month-prev").remove(),d=k.monthHTML(new Date(k.currentYear,k.currentMonth),"prev"),c=k.monthHTML(new Date(k.currentYear,k.currentMonth),"next")):e=k.monthHTML(new Date(k.currentYear,k.currentMonth),a),("next"===a||b)&&k.wrapper.append(e||c),("prev"===a||b)&&k.wrapper.prepend(e||d),k.months=k.wrapper.find(".picker-calendar-month"),k.setMonthsTranslate(k.monthsTranslate),k.params.onMonthAdd&&k.params.onMonthAdd(k,"next"===a?k.months.eq(k.months.length-1)[0]:k.months.eq(0)[0]),k.params.onMonthYearChangeEnd&&k.params.onMonthYearChangeEnd(k,k.currentYear,k.currentMonth)},k.setMonthsTranslate=function(a){a=a||k.monthsTranslate||0,"undefined"==typeof k.monthsTranslate&&(k.monthsTranslate=a),k.months.removeClass("picker-calendar-month-current picker-calendar-month-prev picker-calendar-month-next");var b=100*-(a+1)*m,c=100*-a*m,d=100*-(a-1)*m;k.months.eq(0).transform("translate3d("+(k.isH?b:0)+"%, "+(k.isH?0:b)+"%, 0)").addClass("picker-calendar-month-prev"),k.months.eq(1).transform("translate3d("+(k.isH?c:0)+"%, "+(k.isH?0:c)+"%, 0)").addClass("picker-calendar-month-current"),k.months.eq(2).transform("translate3d("+(k.isH?d:0)+"%, "+(k.isH?0:d)+"%, 0)").addClass("picker-calendar-month-next")},k.nextMonth=function(b){("undefined"==typeof b||"object"==typeof b)&&(b="",k.params.animate||(b=0));var c=parseInt(k.months.eq(k.months.length-1).attr("data-month"),10),d=parseInt(k.months.eq(k.months.length-1).attr("data-year"),10),e=new Date(d,c),f=e.getTime(),g=k.animating?!1:!0;if(k.params.maxDate&&f>new Date(k.params.maxDate).getTime())return k.resetMonth();if(k.monthsTranslate--,c===k.currentMonth){var h=100*-k.monthsTranslate*m,i=a(k.monthHTML(f,"next")).transform("translate3d("+(k.isH?h:0)+"%, "+(k.isH?0:h)+"%, 0)").addClass("picker-calendar-month-next");k.wrapper.append(i[0]),k.months=k.wrapper.find(".picker-calendar-month"),k.params.onMonthAdd&&k.params.onMonthAdd(k,k.months.eq(k.months.length-1)[0])}k.animating=!0,k.onMonthChangeStart("next");var j=100*k.monthsTranslate*m;k.wrapper.transition(b).transform("translate3d("+(k.isH?j:0)+"%, "+(k.isH?0:j)+"%, 0)"),g&&k.wrapper.transitionEnd(function(){k.onMonthChangeEnd("next")}),k.params.animate||k.onMonthChangeEnd("next")},k.prevMonth=function(b){("undefined"==typeof b||"object"==typeof b)&&(b="",k.params.animate||(b=0));var c=parseInt(k.months.eq(0).attr("data-month"),10),d=parseInt(k.months.eq(0).attr("data-year"),10),e=new Date(d,c+1,-1),f=e.getTime(),g=k.animating?!1:!0;if(k.params.minDate&&f<new Date(k.params.minDate).getTime())return k.resetMonth();if(k.monthsTranslate++,c===k.currentMonth){var h=100*-k.monthsTranslate*m,i=a(k.monthHTML(f,"prev")).transform("translate3d("+(k.isH?h:0)+"%, "+(k.isH?0:h)+"%, 0)").addClass("picker-calendar-month-prev");k.wrapper.prepend(i[0]),k.months=k.wrapper.find(".picker-calendar-month"),k.params.onMonthAdd&&k.params.onMonthAdd(k,k.months.eq(0)[0])}k.animating=!0,k.onMonthChangeStart("prev");var j=100*k.monthsTranslate*m;k.wrapper.transition(b).transform("translate3d("+(k.isH?j:0)+"%, "+(k.isH?0:j)+"%, 0)"),g&&k.wrapper.transitionEnd(function(){k.onMonthChangeEnd("prev")}),k.params.animate||k.onMonthChangeEnd("prev")},k.resetMonth=function(a){"undefined"==typeof a&&(a="");var b=100*k.monthsTranslate*m;k.wrapper.transition(a).transform("translate3d("+(k.isH?b:0)+"%, "+(k.isH?0:b)+"%, 0)")},k.setYearMonth=function(a,b,c){"undefined"==typeof a&&(a=k.currentYear),"undefined"==typeof b&&(b=k.currentMonth),("undefined"==typeof c||"object"==typeof c)&&(c="",k.params.animate||(c=0));var d;if(d=a<k.currentYear?new Date(a,b+1,-1).getTime():new Date(a,b).getTime(),k.params.maxDate&&d>new Date(k.params.maxDate).getTime())return!1;if(k.params.minDate&&d<new Date(k.params.minDate).getTime())return!1;var e=new Date(k.currentYear,k.currentMonth).getTime(),f=d>e?"next":"prev",g=k.monthHTML(new Date(a,b));k.monthsTranslate=k.monthsTranslate||0;var h,i,j=k.monthsTranslate,l=k.animating?!1:!0;d>e?(k.monthsTranslate--,k.animating||k.months.eq(k.months.length-1).remove(),k.wrapper.append(g),k.months=k.wrapper.find(".picker-calendar-month"),h=100*-(j-1)*m,k.months.eq(k.months.length-1).transform("translate3d("+(k.isH?h:0)+"%, "+(k.isH?0:h)+"%, 0)").addClass("picker-calendar-month-next")):(k.monthsTranslate++,k.animating||k.months.eq(0).remove(),k.wrapper.prepend(g),k.months=k.wrapper.find(".picker-calendar-month"),h=100*-(j+1)*m,k.months.eq(0).transform("translate3d("+(k.isH?h:0)+"%, "+(k.isH?0:h)+"%, 0)").addClass("picker-calendar-month-prev")),k.params.onMonthAdd&&k.params.onMonthAdd(k,"next"===f?k.months.eq(k.months.length-1)[0]:k.months.eq(0)[0]),k.animating=!0,k.onMonthChangeStart(f),i=100*k.monthsTranslate*m,k.wrapper.transition(c).transform("translate3d("+(k.isH?i:0)+"%, "+(k.isH?0:i)+"%, 0)"),l&&k.wrapper.transitionEnd(function(){k.onMonthChangeEnd(f,!0)}),k.params.animate||k.onMonthChangeEnd(f)},k.nextYear=function(){k.setYearMonth(k.currentYear+1)},k.prevYear=function(){k.setYearMonth(k.currentYear-1)},k.layout=function(){var a,b="",c="",d=k.value&&k.value.length?k.value[0]:(new Date).setHours(0,0,0,0),e=k.monthHTML(d,"prev"),f=k.monthHTML(d),g=k.monthHTML(d,"next"),h='<div class="picker-calendar-months"><div class="picker-calendar-months-wrapper">'+(e+f+g)+"</div></div>",i="";if(k.params.weekHeader){for(a=0;7>a;a++){var j=a+k.params.firstDay>6?a-7+k.params.firstDay:a+k.params.firstDay,l=k.params.dayNamesShort[j];i+='<div class="picker-calendar-week-day '+(k.params.weekendDays.indexOf(j)>=0?"picker-calendar-week-day-weekend":"")+'"> '+l+"</div>"}i='<div class="picker-calendar-week-days">'+i+"</div>"}c="picker-modal picker-calendar "+(k.params.cssClass||"");var m=k.params.toolbar?k.params.toolbarTemplate.replace(/{{closeText}}/g,k.params.toolbarCloseText):"";k.params.toolbar&&(m=k.params.toolbarTemplate.replace(/{{closeText}}/g,k.params.toolbarCloseText).replace(/{{monthPicker}}/g,k.params.monthPicker?k.params.monthPickerTemplate:"").replace(/{{yearPicker}}/g,k.params.yearPicker?k.params.yearPickerTemplate:"")),b='<div class="'+c+'">'+m+'<div class="picker-modal-inner">'+i+h+"</div></div>",k.pickerHTML=b},k.params.input&&(k.input=a(k.params.input),k.input.length>0&&(k.params.inputReadOnly&&k.input.prop("readOnly",!0),k.inline||k.input.on("click",h),k.params.inputReadOnly&&k.input.on("focus mousedown",function(a){a.preventDefault()}))),k.inline||a("html").on("click",i),k.opened=!1,k.open=function(){var b=e(),c=!1;k.opened||(k.value||k.params.value&&(k.value=k.params.value,c=!0),k.layout(),b?(k.pickerHTML='<div class="popover popover-picker-calendar"><div class="popover-inner">'+k.pickerHTML+"</div></div>",k.popover=a.popover(k.pickerHTML,k.params.input,!0),k.container=a(k.popover).find(".picker-modal"),a(k.popover).on("close",function(){j()})):k.inline?(k.container=a(k.pickerHTML),k.container.addClass("picker-modal-inline"),a(k.params.container).append(k.container)):(k.container=a(a.pickerModal(k.pickerHTML)),a(k.container).on("close",function(){j()})),k.container[0].f7Calendar=k,k.wrapper=k.container.find(".picker-calendar-months-wrapper"),k.months=k.wrapper.find(".picker-calendar-month"),k.updateCurrentMonthYear(),k.monthsTranslate=0,k.setMonthsTranslate(),k.initCalendarEvents(),c&&k.updateValue()),k.opened=!0,k.initialized=!0,k.params.onMonthAdd&&k.months.each(function(){k.params.onMonthAdd(k,this)}),k.params.onOpen&&k.params.onOpen(k)},k.close=function(){return k.opened&&!k.inline?f()?void a.closeModal(k.popover):void a.closeModal(k.container):void 0},k.destroy=function(){k.close(),k.params.input&&k.input.length>0&&k.input.off("click focus",h),a("html").off("click",i)},k.inline&&k.open(),k};a.fn.calendar=function(b){return this.each(function(){var c=a(this);if(c[0]){var e={};"INPUT"===c[0].tagName.toUpperCase()?e.input=c:e.container=c,new d(a.extend(e,b))}})},b=a.fn.calendar.prototype.defaults={monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],firstDay:1,weekendDays:[0,6],multiple:!1,dateFormat:"yyyy-mm-dd",direction:"horizontal",minDate:null,maxDate:null,touchMove:!0,animate:!0,closeOnSelect:!0,monthPicker:!0,monthPickerTemplate:'<div class="picker-calendar-month-picker"><a href="#" class="link icon-only picker-calendar-prev-month"><i class="icon icon-prev"></i></a><div class="current-month-value"></div><a href="#" class="link icon-only picker-calendar-next-month"><i class="icon icon-next"></i></a></div>',yearPicker:!0,yearPickerTemplate:'<div class="picker-calendar-year-picker"><a href="#" class="link icon-only picker-calendar-prev-year"><i class="icon icon-prev"></i></a><span class="current-year-value"></span><a href="#" class="link icon-only picker-calendar-next-year"><i class="icon icon-next"></i></a></div>',weekHeader:!0,scrollToInput:!0,inputReadOnly:!0,convertToPopover:!0,onlyInPopover:!1,toolbar:!0,toolbarCloseText:"Done",toolbarTemplate:'<div class="toolbar"><div class="toolbar-inner">{{monthPicker}}{{yearPicker}}</div></div>'},a.initCalendar=function(b){var c=a(b?b:document.body);c.find("[data-toggle='date']").each(function(){a(this).calendar()})}}($),+function(a){"use strict";var b=function(b){function c(){var b=!1;return i.params.convertToPopover||i.params.onlyInPopover?(!i.inline&&i.params.input&&(i.params.onlyInPopover?b=!0:a.device.ios?b=a.device.ipad?!0:!1:a(window).width()>=768&&(b=!0)),b):b}function d(){return i.opened&&i.container&&i.container.length>0&&i.container.parents(".popover").length>0?!0:!1}function e(){if(i.opened)for(var a=0;a<i.cols.length;a++)i.cols[a].divider||(i.cols[a].calcSize(),i.cols[a].setValue(i.cols[a].value,0,!1))}function f(a){if(a.preventDefault(),!i.opened&&(i.open(),i.params.scrollToInput&&!c())){var b=i.input.parents(".content");if(0===b.length)return;var d,e=parseInt(b.css("padding-top"),10),f=parseInt(b.css("padding-bottom"),10),g=b[0].offsetHeight-e-i.container.height(),h=b[0].scrollHeight-e-i.container.height(),j=i.input.offset().top-e+i.input[0].offsetHeight;if(j>g){var k=b.scrollTop()+j-g;k+g>h&&(d=k+g-h+f,g===h&&(d=i.container.height()),b.css({"padding-bottom":d+"px"})),b.scrollTop(k,300)}}}function g(b){d()||(i.input&&i.input.length>0?b.target!==i.input[0]&&0===a(b.target).parents(".picker-modal").length&&i.close():0===a(b.target).parents(".picker-modal").length&&i.close())}function h(){i.opened=!1,i.input&&i.input.length>0&&i.input.parents(".page-content").css({"padding-bottom":""}),i.params.onClose&&i.params.onClose(i),i.container.find(".picker-items-col").each(function(){i.destroyPickerCol(this)})}var i=this,j={updateValuesOnMomentum:!1,updateValuesOnTouchmove:!0,rotateEffect:!1,momentumRatio:7,freeMode:!1,scrollToInput:!0,inputReadOnly:!0,convertToPopover:!0,onlyInPopover:!1,toolbar:!0,toolbarCloseText:"OK",toolbarTemplate:'<header class="bar bar-nav">          <button class="button button-link pull-right close-picker">OK</button>          <h1 class="title"></h1>          </header>'};b=b||{};for(var k in j)"undefined"==typeof b[k]&&(b[k]=j[k]);i.params=b,i.cols=[],i.initialized=!1,i.inline=i.params.container?!0:!1;var l=a.device.ios||navigator.userAgent.toLowerCase().indexOf("safari")>=0&&navigator.userAgent.toLowerCase().indexOf("chrome")<0&&!a.device.android;return i.setValue=function(a,b){for(var c=0,d=0;d<i.cols.length;d++)i.cols[d]&&!i.cols[d].divider&&(i.cols[d].setValue(a[c],b),c++)},i.updateValue=function(){for(var b=[],c=[],d=0;d<i.cols.length;d++)i.cols[d].divider||(b.push(i.cols[d].value),c.push(i.cols[d].displayValue));b.indexOf(void 0)>=0||(i.value=b,i.displayValue=c,i.params.onChange&&i.params.onChange(i,i.value,i.displayValue),i.input&&i.input.length>0&&(a(i.input).val(i.params.formatValue?i.params.formatValue(i,i.value,i.displayValue):i.value.join(" ")),a(i.input).trigger("change")))},i.initPickerCol=function(b,c){function d(){s=a.requestAnimationFrame(function(){m.updateItems(void 0,void 0,0),d()})}function e(b){if(!u&&!t){b.preventDefault(),t=!0;var c=a.getTouchPosition(b);v=w=c.y,x=(new Date).getTime(),F=!0,z=B=a.getTranslate(m.wrapper[0],"y")}}function f(b){if(t){b.preventDefault(),F=!1;var c=a.getTouchPosition(b);w=c.y,u||(a.cancelAnimationFrame(s),u=!0,z=B=a.getTranslate(m.wrapper[0],"y"),m.wrapper.transition(0)),b.preventDefault();var d=w-v;B=z+d,A=void 0,q>B&&(B=q-Math.pow(q-B,.8),A="min"),B>r&&(B=r+Math.pow(B-r,.8),A="max"),m.wrapper.transform("translate3d(0,"+B+"px,0)"),m.updateItems(void 0,B,0,i.params.updateValuesOnTouchmove),D=B-C||B,E=(new Date).getTime(),C=B}}function g(b){if(!t||!u)return void(t=u=!1);t=u=!1,m.wrapper.transition(""),A&&("min"===A?m.wrapper.transform("translate3d(0,"+q+"px,0)"):m.wrapper.transform("translate3d(0,"+r+"px,0)")),y=(new Date).getTime();var c,e;y-x>300?e=B:(c=Math.abs(D/(y-E)),e=B+D*i.params.momentumRatio),e=Math.max(Math.min(e,r),q);var f=-Math.floor((e-r)/o);i.params.freeMode||(e=-f*o+r),m.wrapper.transform("translate3d(0,"+parseInt(e,10)+"px,0)"),m.updateItems(f,e,"",!0),i.params.updateValuesOnMomentum&&(d(),m.wrapper.transitionEnd(function(){a.cancelAnimationFrame(s)})),setTimeout(function(){F=!0},100)}function h(b){if(F){a.cancelAnimationFrame(s);var c=a(this).attr("data-picker-value");m.setValue(c)}}var j=a(b),k=j.index(),m=i.cols[k];if(!m.divider){m.container=j,m.wrapper=m.container.find(".picker-items-col-wrapper"),m.items=m.wrapper.find(".picker-item");var n,o,p,q,r;m.replaceValues=function(a,b){m.destroyEvents(),m.values=a,m.displayValues=b;var c=i.columnHTML(m,!0);m.wrapper.html(c),m.items=m.wrapper.find(".picker-item"),m.calcSize(),m.setValue(m.values[0],0,!0),m.initEvents()},m.calcSize=function(){i.params.rotateEffect&&(m.container.removeClass("picker-items-col-absolute"),m.width||m.container.css({width:""}));var b,c;b=0,c=m.container[0].offsetHeight,n=m.wrapper[0].offsetHeight,o=m.items[0].offsetHeight,p=o*m.items.length,q=c/2-p+o/2,r=c/2-o/2,m.width&&(b=m.width,parseInt(b,10)===b&&(b+="px"),m.container.css({width:b})),i.params.rotateEffect&&(m.width||(m.items.each(function(){var c=a(this);c.css({width:"auto"}),b=Math.max(b,c[0].offsetWidth),c.css({width:""})}),m.container.css({width:b+2+"px"})),m.container.addClass("picker-items-col-absolute"))},m.calcSize(),m.wrapper.transform("translate3d(0,"+r+"px,0)").transition(0);var s;m.setValue=function(b,c,e){"undefined"==typeof c&&(c="");var f=m.wrapper.find('.picker-item[data-picker-value="'+b+'"]').index();if("undefined"!=typeof f&&-1!==f){var g=-f*o+r;m.wrapper.transition(c),m.wrapper.transform("translate3d(0,"+g+"px,0)"),i.params.updateValuesOnMomentum&&m.activeIndex&&m.activeIndex!==f&&(a.cancelAnimationFrame(s),m.wrapper.transitionEnd(function(){a.cancelAnimationFrame(s)}),d()),m.updateItems(f,g,c,e)}},m.updateItems=function(b,c,d,e){"undefined"==typeof c&&(c=a.getTranslate(m.wrapper[0],"y")),"undefined"==typeof b&&(b=-Math.round((c-r)/o)),0>b&&(b=0),b>=m.items.length&&(b=m.items.length-1);var f=m.activeIndex;m.activeIndex=b,m.wrapper.find(".picker-selected").removeClass("picker-selected"),i.params.rotateEffect&&m.items.transition(d);var g=m.items.eq(b).addClass("picker-selected").transform("");if((e||"undefined"==typeof e)&&(m.value=g.attr("data-picker-value"),m.displayValue=m.displayValues?m.displayValues[b]:m.value,f!==b&&(m.onChange&&m.onChange(i,m.value,m.displayValue),i.updateValue())),i.params.rotateEffect){(c-(Math.floor((c-r)/o)*o+r))/o;m.items.each(function(){var b=a(this),d=b.index()*o,e=r-c,f=d-e,g=f/o,h=Math.ceil(m.height/o/2)+1,i=-18*g;i>180&&(i=180),-180>i&&(i=-180),Math.abs(g)>h?b.addClass("picker-item-far"):b.removeClass("picker-item-far"),b.transform("translate3d(0, "+(-c+r)+"px, "+(l?-110:0)+"px) rotateX("+i+"deg)")})}},c&&m.updateItems(0,r,0);var t,u,v,w,x,y,z,A,B,C,D,E,F=!0;m.initEvents=function(b){var c=b?"off":"on";m.container[c](a.touchEvents.start,e),m.container[c](a.touchEvents.move,f),m.container[c](a.touchEvents.end,g),m.items[c]("click",h)},m.destroyEvents=function(){m.initEvents(!0)},m.container[0].f7DestroyPickerCol=function(){m.destroyEvents()},m.initEvents()}},i.destroyPickerCol=function(b){b=a(b),"f7DestroyPickerCol"in b[0]&&b[0].f7DestroyPickerCol()},a(window).on("resize",e),i.columnHTML=function(a,b){var c="",d="";if(a.divider)d+='<div class="picker-items-col picker-items-col-divider '+(a.textAlign?"picker-items-col-"+a.textAlign:"")+" "+(a.cssClass||"")+'">'+a.content+"</div>";else{for(var e=0;e<a.values.length;e++)c+='<div class="picker-item" data-picker-value="'+a.values[e]+'">'+(a.displayValues?a.displayValues[e]:a.values[e])+"</div>";d+='<div class="picker-items-col '+(a.textAlign?"picker-items-col-"+a.textAlign:"")+" "+(a.cssClass||"")+'"><div class="picker-items-col-wrapper">'+c+"</div></div>"}return b?c:d},i.layout=function(){var a,b="",c="";i.cols=[];var d="";for(a=0;a<i.params.cols.length;a++){var e=i.params.cols[a];d+=i.columnHTML(i.params.cols[a]),i.cols.push(e)}c="picker-modal picker-columns "+(i.params.cssClass||"")+(i.params.rotateEffect?" picker-3d":""),b='<div class="'+c+'">'+(i.params.toolbar?i.params.toolbarTemplate.replace(/{{closeText}}/g,i.params.toolbarCloseText):"")+'<div class="picker-modal-inner picker-items">'+d+'<div class="picker-center-highlight"></div></div></div>',i.pickerHTML=b},i.params.input&&(i.input=a(i.params.input),i.input.length>0&&(i.params.inputReadOnly&&i.input.prop("readOnly",!0),i.inline||i.input.on("click",f),i.params.inputReadOnly&&i.input.on("focus mousedown",function(a){a.preventDefault()}))),i.inline||a("html").on("click",g),i.opened=!1,i.open=function(){var b=c();i.opened||(i.layout(),b?(i.pickerHTML='<div class="popover popover-picker-columns"><div class="popover-inner">'+i.pickerHTML+"</div></div>",i.popover=a.popover(i.pickerHTML,i.params.input,!0),i.container=a(i.popover).find(".picker-modal"),a(i.popover).on("close",function(){h()})):i.inline?(i.container=a(i.pickerHTML),i.container.addClass("picker-modal-inline"),a(i.params.container).append(i.container)):(i.container=a(a.pickerModal(i.pickerHTML)),a(i.container).on("close",function(){h()})),i.container[0].f7Picker=i,i.container.find(".picker-items-col").each(function(){var a=!0;(!i.initialized&&i.params.value||i.initialized&&i.value)&&(a=!1),i.initPickerCol(this,a)}),i.initialized?i.value&&i.setValue(i.value,0):i.params.value&&i.setValue(i.params.value,0)),i.opened=!0,i.initialized=!0,i.params.onOpen&&i.params.onOpen(i)},i.close=function(){return i.opened&&!i.inline?d()?void a.closeModal(i.popover):void a.closeModal(i.container):void 0},i.destroy=function(){i.close(),i.params.input&&i.input.length>0&&i.input.off("click focus",f),a("html").off("click",g),a(window).off("resize",e)},i.inline&&i.open(),i};a(document).on("click",".close-picker",function(){var b=a(".picker-modal.modal-in");b.length>0?a.closeModal(b):(b=a(".popover.modal-in .picker-modal"),b.length>0&&a.closeModal(b.parents(".popover")))}),a.fn.picker=function(c){var d=arguments;return this.each(function(){if(this){var e=a(this),f=e.data("picker");if(!f){c=c||{};var g=e.val();void 0===c.value&&""!==g&&(c.value=c.cols.length>1?g.split(" "):[g]);var h=a.extend({input:this},c);f=new b(h),e.data("picker",f)}"string"==typeof c&&f[c].apply(f,Array.prototype.slice.call(d,1))}})}}($),+function(a){"use strict";var b=new Date,c=function(a){for(var b=[],c=1;(a||31)>=c;c++)b.push(10>c?"0"+c:c);return b},d=function(a,b){var d=new Date(b,parseInt(a)+1-1,1),e=new Date(d-1);return c(e.getDate())},e=function(a){return 10>a?"0"+a:a},f="01 02 03 04 05 06 07 08 09 10 11 12".split(" "),g=function(){for(var a=[],b=1950;2030>=b;b++)a.push(b);return a}(),h={rotateEffect:!1,value:[b.getFullYear(),e(b.getMonth()+1),b.getDate(),e(b.getHours()),e(b.getMinutes())],onChange:function(a,b,c){var e=d(a.cols[1].value,a.cols[0].value),f=a.cols[2].value;f>e.length&&(f=e.length),a.cols[2].setValue(f)},formatValue:function(a,b,c){return c[0]+"-"+b[1]+"-"+b[2]+" "+b[3]+":"+b[4]},cols:[{values:g},{values:f},{values:c()},{divider:!0,content:"  "},{values:function(){for(var a=[],b=0;23>=b;b++)a.push(e(b));return a}()},{divider:!0,content:":"},{values:function(){for(var a=[],b=0;59>=b;b++)a.push(e(b));return a}()}]};a.fn.datetimePicker=function(b){return this.each(function(){if(this){b=b||{};var c=a(this).val();void 0===b.value&&""!==c&&(b.value=[].concat(c.split(" ")[0].split("-"),c.split(" ")[1].split(":")));var d=a.extend(h,b);a(this).picker(d)}})}}($),+function(a){"use strict";a.initPullToRefresh=function(b){function c(b){if(h){if(!a.os.android)return;if("targetTouches"in b&&b.targetTouches.length>1)return}i=!1,h=!0,j=void 0,p=void 0;var c=a.getTouchPosition(b);s.x=c.x,s.y=c.y,l=(new Date).getTime(),m=a(this);
}function d(b){if(h){var c=a.getTouchPosition(b),d=c.x,e=c.y;if("undefined"==typeof j&&(j=!!(j||Math.abs(e-s.y)>Math.abs(d-s.x))),!j)return void(h=!1);if(o=m[0].scrollTop,"undefined"==typeof p&&0!==o&&(p=!0),!i){if(m.removeClass("transitioning"),o>m[0].offsetHeight)return void(h=!1);r&&(q=m.attr("data-ptr-distance"),q.indexOf("%")>=0&&(q=m[0].offsetHeight*parseInt(q,10)/100)),v=m.hasClass("refreshing")?q:0,u=m[0].scrollHeight!==m[0].offsetHeight&&a.os.ios?!1:!0,u=!0}return i=!0,k=e-s.y,k>0&&0>=o||0>o?(a.os.ios&&parseInt(a.os.version.split(".")[0],10)>7&&0===o&&!p&&(u=!0),u&&(b.preventDefault(),n=Math.pow(k,.85)+v,m.transform("translate3d(0,"+n+"px,0)")),u&&Math.pow(k,.85)>q||!u&&k>=2*q?(t=!0,m.addClass("pull-up").removeClass("pull-down")):(t=!1,m.removeClass("pull-up").addClass("pull-down")),void 0):(m.removeClass("pull-up pull-down"),void(t=!1))}}function e(){return h&&i?(n&&(m.addClass("transitioning"),n=0),m.transform(""),t?(m.addClass("refreshing"),m.trigger("refresh",{done:function(){a.pullToRefreshDone(m)}})):m.removeClass("pull-down"),h=!1,void(i=!1)):(h=!1,void(i=!1))}function f(){g.off(a.touchEvents.start,c),g.off(a.touchEvents.move,d),g.off(a.touchEvents.end,e)}var g=a(b);if(g.hasClass("pull-to-refresh-content")||(g=g.find(".pull-to-refresh-content")),g&&0!==g.length){var h,i,j,k,l,m,n,o,p,q,r,s={},t=!1,u=!1,v=0;m=g,m.attr("data-ptr-distance")?r=!0:q=44,g.on(a.touchEvents.start,c),g.on(a.touchEvents.move,d),g.on(a.touchEvents.end,e),g[0].destroyPullToRefresh=f}},a.pullToRefreshDone=function(b){b=a(b),0===b.length&&(b=a(".pull-to-refresh-content.refreshing")),b.removeClass("refreshing").addClass("transitioning"),b.transitionEnd(function(){b.removeClass("transitioning pull-up pull-down")})},a.pullToRefreshTrigger=function(b){b=a(b),0===b.length&&(b=a(".pull-to-refresh-content")),b.hasClass("refreshing")||(b.addClass("transitioning refreshing"),b.trigger("refresh",{done:function(){a.pullToRefreshDone(b)}}))},a.destroyPullToRefresh=function(b){b=a(b);var c=b.hasClass("pull-to-refresh-content")?b:b.find(".pull-to-refresh-content");0!==c.length&&c[0].destroyPullToRefresh&&c[0].destroyPullToRefresh()}}($),+function(a){"use strict";function b(){var b,c=a(this),d=c.scrollTop(),e=c.scrollHeight(),f=c[0].offsetHeight,g=c[0].getAttribute("data-distance"),h=c.find(".virtual-list"),i=c.hasClass("infinite-scroll-top");if(g||(g=50),"string"==typeof g&&g.indexOf("%")>=0&&(g=parseInt(g,10)/100*f),g>f&&(g=f),i)g>d&&c.trigger("infinite");else if(d+f>=e-g){if(h.length>0&&(b=h[0].f7VirtualList,b&&!b.reachEnd))return;c.trigger("infinite")}}a.attachInfiniteScroll=function(c){a(c).on("scroll",b)},a.detachInfiniteScroll=function(c){a(c).off("scroll",b)},a.initInfiniteScroll=function(b){function c(){a.detachInfiniteScroll(d),b.off("pageBeforeRemove",c)}b=a(b);var d=b.hasClass("infinite-scroll")?b:b.find(".infinite-scroll");0!==d.length&&(a.attachInfiniteScroll(d),b.on("pageBeforeRemove",c))}}($),+function(a){"use strict";var b,c,d,e,f,g,h=function(c){var d=a.getTouchPosition(c);e=d,f=g=0,b.addClass("touching")},i=function(c){if(!e)return!1;c.preventDefault(),c.stopPropagation();var d=a.getTouchPosition(c);f=d.x-e.x,g=d.y-e.y,g>0&&(g=Math.sqrt(g)),b.css("transform","translate3d(0, "+g+"px, 0)")},j=function(){b.removeClass("touching"),b.attr("style",""),0>g&&Math.abs(g)>.38*b.height()&&a.closeNotification(),Math.abs(f)<=1&&Math.abs(g)<=1&&b.trigger("noti-click"),e=!1},k=function(b){b.on(a.touchEvents.start,h),b.on(a.touchEvents.move,i),b.on(a.touchEvents.end,j)};a.notification=a.noti=function(e){e=a.extend({},c,e),b=a(".notification"),b[0]||(b=a('<div class="notification"></div>').appendTo(document.body),k(b)),b.off("noti-click"),e.onClick&&b.on("noti-click",function(){e.onClick(e.data)}),b.html(a.t7.compile(e.tpl)(e)),b.show(),b.addClass("notification-in"),b.data("params",e);var f=function(){d&&(clearTimeout(d),d=null),d=setTimeout(function(){b.hasClass("touching")?f():a.closeNotification()},e.time)};f()},a.closeNotification=function(){d&&clearTimeout(d),d=null;var b=a(".notification").removeClass("notification-in").transitionEnd(function(){a(this).remove()});if(b[0]){var c=a(".notification").data("params");c&&c.onClose&&c.onClose(c.data)}},c=a.noti.prototype.defaults={title:void 0,text:void 0,media:void 0,time:4e3,onClick:void 0,onClose:void 0,data:void 0,tpl:'<div class="notification-inner">{{#if media}}<div class="notification-media">{{media}}</div>{{/if}}<div class="notification-content">{{#if title}}<div class="notification-title">{{title}}</div>{{/if}}{{#if text}}<div class="notification-text">{{text}}</div>{{/if}}</div><div class="notification-handle-bar"></div></div>'}}($),+function(a){"use strict";var b=function(b){this.params=b,this.tpl=a.t7(this.params.indexListTemplate).compile()};b.prototype.render=function(b){this.list=a(b||".list"),this.draw()},b.prototype.draw=function(){this.indexList&&this.indexList.remove(),this.titles=this.list.find(this.params.titleSelector);var b=this.titles.map(function(b,c){return a(c).data("index")||a(c).text()}).toArray();this.indexList=a("<ul class='index-list-bar'></ul>").appendTo(this.list.parents(".page")),this.indexList.html(this.tpl({indexes:b})),this.indexList.on(a.touchEvents.start,a.proxy(this.touchStart,this)),this.indexList.on(a.touchEvents.start+" "+a.touchEvents.move,a.proxy(this.touchMove,this)),this.indexList.on(a.touchEvents.end,a.proxy(this.touchEnd,this)),this.content=this.list.parents(".content")},b.prototype.touchStart=function(){this.pageOffsetTop=this.content.offset().top,this.touching=!0},b.prototype.touchMove=function(b){if(this.touching){b.preventDefault();var c=this.getElementOnTouch(a.getTouchPosition(b));if(c){var d=this.titles.eq(c.data("index")),e=d.parent().offset().top,f=e-this.pageOffsetTop+this.content.scrollTop();this.content.scrollTop(f)}}},b.prototype.touchEnd=function(){this.touching=!1},b.prototype.getElementOnTouch=function(b){var c=null;return this.indexList.find("li").each(function(){if(!c){var d=a(this),e=d.offset();e.top<b.y&&e.top+d.outerHeight()>b.y&&(c=d)}}),c},a.fn.indexList=function(c){return this.each(function(){if(this){var d=a(this),e=d.data("index");return e||(c=a.extend({},a.fn.indexList.prototype.defaults,c),e=new b(c).render(d),d.data("index",e)),e}})},a.fn.indexList.prototype.defaults={titleSelector:".list-group-title",indexListTemplate:"{{#indexes}}<li data-index={{@index}}><strong>{{this}}</strong></li>{{/indexes}}"},a.initIndexList=function(b){var c=a(b);c.hasClass(".contacts-block")?c.indexList():c.find(".contacts-block").indexList()}}($),+function(a){"use strict";a(function(){a(document).on("focus",".searchbar input",function(b){var c=a(b.target);c.parents(".searchbar").addClass("searchbar-active")}),a(document).on("click",".searchbar-cancel",function(b){var c=a(b.target);c.parents(".searchbar").removeClass("searchbar-active")}),a(document).on("blur",".searchbar input",function(b){var c=a(b.target);c.parents(".searchbar").removeClass("searchbar-active")})})}($),+function(a){"use strict";a.allowPanelOpen=!0,a.openPanel=function(b){function c(){f.transitionEnd(function(d){d.target===f[0]?(b.hasClass("active")?b.trigger("opened"):b.trigger("closed"),a.allowPanelOpen=!0):c()})}if(!a.allowPanelOpen)return!1;("left"===b||"right"===b)&&(b=".panel-"+b),b=b?a(b):a(".panel").eq(0);var d=b.hasClass("panel-right")?"right":"left";if(0===b.length||b.hasClass("active"))return!1;a.closePanel(),a.allowPanelOpen=!1;var e=b.hasClass("panel-reveal")?"reveal":"cover";b.css({display:"block"}).addClass("active"),b.trigger("open");var f=(b[0].clientLeft,"reveal"===e?a(a.getCurrentPage()):b);return c(),a(document.body).addClass("with-panel-"+d+"-"+e),!0},a.closePanel=function(){var b=a(".panel.active");if(0===b.length)return!1;var c=b.hasClass("panel-reveal")?"reveal":"cover",d=b.hasClass("panel-left")?"left":"right";b.removeClass("active");var e="reveal"===c?a(".page"):b;b.trigger("close"),a.allowPanelOpen=!1,e.transitionEnd(function(){b.hasClass("active")||(b.css({display:""}),b.trigger("closed"),a("body").removeClass("panel-closing"),a.allowPanelOpen=!0)}),a("body").addClass("panel-closing").removeClass("with-panel-"+d+"-"+c)},a(document).on("click",".open-panel",function(b){var c=a(b.target).data(c);a.openPanel(c)}),a(document).on("click",".close-panel, .panel-overlay",function(b){a.closePanel()}),a.initSwipePanels=function(){function b(b){if(y=a(a.getCurrentPage()),a.allowPanelOpen&&(g||h)&&!m&&!(a(".modal-in, .photo-browser-in").length>0)&&(i||h||!(a(".panel.active").length>0)||e.hasClass("active"))){var c=a.getTouchPosition(b);if(x.x=c.x,x.y=c.y,i||h){if(a(".panel.active").length>0)f=a(".panel.active").hasClass("panel-left")?"left":"right";else{if(h)return;f=g}if(!f)return}if(e=a(".panel.panel-"+f),e[0]){if(s=e.hasClass("active"),j&&!s){if("left"===f&&x.x>j)return;if("right"===f&&x.x<window.innerWidth-j)return}n=!1,m=!0,o=void 0,p=(new Date).getTime(),v=void 0}}}function c(b){if(m&&e[0]&&!b.f7PreventPanelSwipe){var c=a.getTouchPosition(b),d=c.x,g=c.y;if("undefined"==typeof o&&(o=!!(o||Math.abs(g-x.y)>Math.abs(d-x.x))),o)return void(m=!1);if(!v&&(v=d>x.x?"to-right":"to-left","left"===f&&"to-left"===v&&!e.hasClass("active")||"right"===f&&"to-right"===v&&!e.hasClass("active")))return void(m=!1);if(l){var h=(new Date).getTime()-p;return 300>h&&("to-left"===v&&("right"===f&&a.openPanel(f),"left"===f&&e.hasClass("active")&&a.closePanel()),"to-right"===v&&("left"===f&&a.openPanel(f),"right"===f&&e.hasClass("active")&&a.closePanel())),m=!1,void(n=!1)}n||(u=e.hasClass("panel-cover")?"cover":"reveal",s||(e.show(),w.show()),t=e[0].offsetWidth,e.transition(0)),n=!0,b.preventDefault();var i=s?0:-k;"right"===f&&(i=-i),q=d-x.x+i,"right"===f?(r=q-(s?t:0),r>0&&(r=0),-t>r&&(r=-t)):(r=q+(s?t:0),0>r&&(r=0),r>t&&(r=t)),"reveal"===u?(y.transform("translate3d("+r+"px,0,0)").transition(0),w.transform("translate3d("+r+"px,0,0)")):e.transform("translate3d("+r+"px,0,0)").transition(0)}}function d(b){if(!m||!n)return m=!1,void(n=!1);m=!1,n=!1;var c,d=(new Date).getTime()-p,g=0===r||Math.abs(r)===t;if(c=s?r===-t?"reset":300>d&&Math.abs(r)>=0||d>=300&&Math.abs(r)<=t/2?"left"===f&&r===t?"reset":"swap":"reset":0===r?"reset":300>d&&Math.abs(r)>0||d>=300&&Math.abs(r)>=t/2?"swap":"reset","swap"===c&&(a.allowPanelOpen=!0,s?(a.closePanel(),g&&(e.css({display:""}),a("body").removeClass("panel-closing"))):a.openPanel(f),g&&(a.allowPanelOpen=!0)),"reset"===c)if(s)a.allowPanelOpen=!0,a.openPanel(f);else if(a.closePanel(),g)a.allowPanelOpen=!0,e.css({display:""});else{var h="reveal"===u?y:e;a("body").addClass("panel-closing"),h.transitionEnd(function(){a.allowPanelOpen=!0,e.css({display:""}),a("body").removeClass("panel-closing")})}"reveal"===u&&(y.transition(""),y.transform("")),e.transition("").transform(""),w.css({display:""}).transform("")}var e,f,g=a.smConfig.swipePanel,h=a.smConfig.swipePanelOnlyClose,i=!0,j=!1,k=2,l=!1;if(g||h){var m,n,o,p,q,r,s,t,u,v,w=a(".panel-overlay"),x={},y=a(a.getCurrentPage());a(document).on(a.touchEvents.start,b),a(document).on(a.touchEvents.move,c),a(document).on(a.touchEvents.end,d)}},a.initSwipePanels()}($),+function(a){"use strict";window.CustomEvent||(window.CustomEvent=function(a,b){var c=document.createEvent("CustomEvent");return c.initCustomEvent(a,b.bubbles,b.cancelable,b.detail,b.id),c});var b=function(){this.state=sessionStorage,this.state.setItem("stateid",parseInt(this.state.getItem("stateid")||1)+1),this.state.setItem("currentStateID",this.state.getItem("stateid")),this.stack=sessionStorage,this.stack.setItem("back","[]"),this.stack.setItem("forward","[]"),this.extras={},this.init(),this.xhr=null};b.prototype.defaults={transition:!0},b.prototype.init=function(){var b=this.getCurrentPage();b[0]||(b=a(".page").eq(0).addClass("page-current"));var c=location.hash;if(b[0]&&!b[0].id&&(b[0].id=c?c.slice(1):this.genRandomID()),!b[0])throw new Error("can't find .page element");var d=a(c);!d[0]||b[0]&&c.slice(1)===b[0].id||(b.removeClass("page-current"),d.addClass("page-current"),b=d);var e=history.state;if(!e){var f=this.genStateID();this.replaceState(location.href,f),this.setCurrentStateID(f)}var g=this;window.addEventListener("load",function(){setTimeout(function(){window.addEventListener("popstate",a.proxy(g.onpopstate,g))},0)},!1)},b.prototype.loadPage=function(b,c,d){var e=b;void 0===c&&(c=!this.defaults.transition),"string"==typeof b&&(e={url:b,noAnimation:c,replace:d});var b=e.url,c=e.noAnimation,d=e.replace;this.getPage(b,function(e,f){var g=this.getCurrentPage(),h=g[0].id;this[d?"replaceBack":"pushBack"]({url:location.href,pageid:"#"+h,id:this.getCurrentStateID(),animation:!c});for(var i=JSON.parse(this.state.getItem("forward")||"[]"),j=this,k=0;k<i.length;k++)a(i[k].pageid).each(function(){var b=a(this);if(b.data("page-remote")){var c=j.extras[b[0].id];c&&c.remove(),j.extras[b[0].id]=void 0,b.remove()}});this.state.setItem("forward","[]");var l=a("#"+a(e)[0].id);e.insertBefore(a(".page")[0]),l[0]!==e[0]&&l.remove(),f&&(j.extras[e[0].id]=f.appendTo(document.body));var m=this.genStateID();this.setCurrentStateID(m),this[d?"replaceState":"pushState"](b,m),this.forwardStack=[],this.animatePages(this.getCurrentPage(),e,null,c)})},b.prototype.replacePage=function(a,b){return this.loadPage(a,b,!0)},b.prototype.reloadPage=function(){return this.replacePage(location.href,!0)},b.prototype.animatePages=function(b,c,d,e){function f(a){a.removeClass(g),a.trigger("pageAnimationEnd",[a[0].id,a])}var g="page-left page-right page-from-center-to-left page-from-center-to-right page-from-right-to-center page-from-left-to-center";e?d?(b.trigger("pageAnimationStart",[c[0].id,c]),c.removeClass(g).removeClass("page-current"),b.removeClass(g).addClass("page-current"),b.hasClass("no-tabbar")?a(document.body).addClass("tabbar-hidden"):a(document.body).removeClass("tabbar-hidden"),c.trigger("pageInitInternal",[b[0].id,b])):(c.trigger("pageAnimationStart",[c[0].id,c]),b.removeClass(g).removeClass("page-current"),c.removeClass(g).addClass("page-current"),c.trigger("pageInitInternal",[c[0].id,c]),c.hasClass("no-tabbar")?a(document.body).addClass("tabbar-hidden"):a(document.body).removeClass("tabbar-hidden")):d?(b.trigger("pageAnimationStart",[c[0].id,c]),c.removeClass(g).addClass("page-from-center-to-right").removeClass("page-current"),b.removeClass(g).addClass("page-from-left-to-center page-current"),b.animationEnd(function(){f(b)}),c.animationEnd(function(){c.removeClass(g)}),b.hasClass("no-tabbar")?a(document.body).addClass("tabbar-hidden"):a(document.body).removeClass("tabbar-hidden"),c.trigger("pageInitInternal",[b[0].id,b])):(c.trigger("pageAnimationStart",[c[0].id,c]),b.removeClass(g).addClass("page-from-center-to-left").removeClass("page-current"),c.removeClass(g).addClass("page-from-right-to-center page-current"),b.animationEnd(function(){b.removeClass(g)}),c.animationEnd(function(){f(c)}),c.hasClass("no-tabbar")?a(document.body).addClass("tabbar-hidden"):a(document.body).removeClass("tabbar-hidden"),c.trigger("pageInitInternal",[c[0].id,c]))},b.prototype.getCurrentPage=function(){return a(".page-current")},b.prototype.forward=function(a){var b=JSON.parse(this.stack.getItem("forward"));b.length?history.forward():location.href=a},b.prototype.back=function(a){var b=JSON.parse(this.stack.getItem("back"));b.length?history.back():location.href=a},b.prototype._back=function(){var b=this.popBack();if(b){var c=this.getCurrentPage(),d=a(b.pageid);d[0]&&(this.pushForward({url:location.href,pageid:"#"+c[0].id,id:this.getCurrentStateID(),animation:b.animation}),this.setCurrentStateID(b.id),this.animatePages(d,c,!0,!b.animation))}},b.prototype._forward=function(){var b=this.popForward();if(b){var c=this.getCurrentPage(),d=a(b.pageid);d[0]&&(this.pushBack({url:location.href,pageid:"#"+c[0].id,id:this.getCurrentStateID(),animation:b.animation}),this.setCurrentStateID(b.id),this.animatePages(c,d,!1,!b.animation))}},b.prototype.pushState=function(a,b){history.pushState({url:a,id:b},"",a)},b.prototype.replaceState=function(a,b){history.replaceState({url:a,id:b},"",a)},b.prototype.onpopstate=function(a){console.log("popstate");var b=a.state;if(!b)return!0;if(b.id===this.getCurrentStateID())return!1;var c=b.id>this.getCurrentStateID();c?this._forward():this._back()},b.prototype.getPage=function(b,c){if("#"===b[0])return c.apply(this,[a(b)]);this.dispatch("pageLoadStart"),this.xhr&&this.xhr.readyState<4&&(this.xhr.onreadystatechange=a.noop,this.xhr.abort(),this.dispatch("pageLoadCancel"));var d=this;this.xhr=a.ajax({url:b,success:a.proxy(function(a,b,d){var e=this.parseXHR(d),f=e[0],g=e[1];f[0].id||(f[0].id=this.genRandomID()),f.data("page-remote",1),c.apply(this,[f,g])},this),error:function(){d.dispatch("pageLoadError")},complete:function(){d.dispatch("pageLoadComplete")}})},b.prototype.parseXHR=function(b){var c=b.responseText,d=c.match(/<body[^>]*>([\s\S.]*)<\/body>/i),e=d?d[1]:c;e="<div>"+e+"</div>";var f=a(e),g=f.find(".popup, .popover, .panel, .panel-overlay"),h=f.find(".page");return h[0]||(h=f.addClass("page")),[h,g]},b.prototype.genStateID=function(){var a=parseInt(this.state.getItem("stateid"))+1;return this.state.setItem("stateid",a),a},b.prototype.getCurrentStateID=function(){return parseInt(this.state.getItem("currentStateID"))},b.prototype.setCurrentStateID=function(a){this.state.setItem("currentStateID",a)},b.prototype.genRandomID=function(){return"page-"+ +new Date},b.prototype.popBack=function(){var a=JSON.parse(this.stack.getItem("back"));if(!a.length)return null;var b=a.splice(a.length-1,1)[0];return this.stack.setItem("back",JSON.stringify(a)),b},b.prototype.pushBack=function(a){var b=JSON.parse(this.stack.getItem("back"));b.push(a),this.stack.setItem("back",JSON.stringify(b))},b.prototype.replaceBack=function(a){var b=JSON.parse(this.stack.getItem("back"));b.pop(),b.push(a),this.stack.setItem("back",JSON.stringify(b))},b.prototype.popForward=function(){var a=JSON.parse(this.stack.getItem("forward"));if(!a.length)return null;var b=a.splice(a.length-1,1)[0];return this.stack.setItem("forward",JSON.stringify(a)),b},b.prototype.pushForward=function(a){var b=JSON.parse(this.stack.getItem("forward"));b.push(a),this.stack.setItem("forward",JSON.stringify(b))},b.prototype.dispatch=function(a){var b=new CustomEvent(a,{bubbles:!0,cancelable:!0});window.dispatchEvent(b)},a(function(){if(a.smConfig.router){var c=a.router=new b;c.defaults=b.prototype.defaults,a(document).on("click","a",function(b){var d=a(b.currentTarget);if(!(d.hasClass("external")||d[0].hasAttribute("external")||d.hasClass("tab-link")||d.hasClass("open-popup")||d.hasClass("open-panel"))){b.preventDefault();var e=d.attr("href");return d.hasClass("back")?void c.back(e):void(e&&"#"!==e&&c.loadPage(e,d.hasClass("no-transition")?!0:void 0,d.hasClass("replace")?!0:void 0))}})}})}($),+function(a){"use strict";var b=function(){var b=a(".page-current");return b[0]||(b=a(".page").addClass("page-current")),b};a.initPage=function(c){var d=c?a(c):b();d[0]||(d=a(document.body));var e=d.hasClass("content")?d:d.find(".content");a.initPullToRefresh(e),a.initInfiniteScroll(e),a.initCalendar(e),a.initIndexList(e),a.initSwiper&&a.initSwiper(e),a.initSwipeout&&a.initSwipeout()},a.smConfig.showPageLoadingIndicator&&(a(window).on("pageLoadStart",function(){a.showIndicator()}),a(document).on("pageAnimationStart",function(){a.hideIndicator()}),a(window).on("pageLoadCancel",function(){a.hideIndicator()}),a(window).on("pageLoadError",function(){a.hideIndicator(),a.toast("加载失败")})),a.init=function(){var c=b(),d=c[0].id;c.hasClass("page-inited")?c.trigger("pageReinit",[d,c]):(a.initPage(),c.addClass("page-inited"),c.trigger("pageInit",[d,c]))},a(function(){a.smConfig.autoInit&&a.init(),a(document).on("pageInitInternal",function(b,c,d){a.init()})})}($);